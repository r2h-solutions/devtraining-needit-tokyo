<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic/>
        <design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"56fd5880f19c4a318186d9f5f84ff3a2","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"56fd5880f19c4a318186d9f5f84ff3a2"}],"goals":[{"name":"primary","trigger_id":"56fd5880f19c4a318186d9f5f84ff3a2","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"dd784b920a0142da805e3a5e494953e8","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"51be302cd5274ac0a00e27aa3d4a8fec","name":"End"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var itemId = vaInputs.catalog_item_id.getValue();\n    var itemJSON = new sn_sc.CatalogConversationHelper().getItem(itemId);\n    vaVars.itemJSON = JSON.stringify(itemJSON);\n    vaVars.itemName = itemJSON.name;\n})()\n","id":"283f4539bc094341bfe3d6437ab29210","name":"Set Selected Item","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var response = gs.getMessage(\"Here are some more details about {0}\", vaVars.itemName);\n    if (itemJson.description) \n        return response + itemJson.description;\n\n    return gs.getMessage(\"Selected {0}\", vaVars.itemName);\n})()\n"}],"id":"8276ac1a49834476b8c86f16051ff7d8","name":"Item Description","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"InputPrompt","type":"InputPrompt","variable_id":"4aae1e90eee040508b488a2e4cb5348d","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Should I proceed with this?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"672fce7342e944dbbb950e7e05ee33da","name":"Proceed","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"No","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"proceed=false"},"id":"bee990e039864ff89f1758b7d25165e5","name":"No"},{"type":"Branch","type":"Branch","label":"Yes","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"proceed=true"},"id":"3f1532760fd848729406134e310a0e89","name":"Yes"}],"id":"da5a9eb8af2d45b1a5dd750c9c5470de","goal_id":"primary"},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Has VA Support","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return JSON.parse(vaVars.itemJSON).va_support;\n})()"},"id":"5d6efe5136f34571b4977f07ff115dbc","name":"Has VA Support"},{"type":"Branch","type":"Branch","label":"No VA Support","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return !JSON.parse(vaVars.itemJSON).va_support;\n})()"},"id":"e7aa270a7a314b879147b37522ddf6bb","name":"No VA Support"}],"id":"ebe019552a99491cb32eeef54f748530","goal_id":"primary"},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Item with no variables","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var qIndex = parseInt(vaVars.qIndex);\n    //qIndex is -1 initially, we reset this before search again step \n    do{\n        qIndex++;\n        var question = itemJson.variables[qIndex];\n    }\n    while(question &amp;&amp; (!question.visible || question.readonly || question.sys_readonly));\n\n    if (question) {\n       //There are variables that we can show\n        return false;\n    }\n    //No variables that we can show\n    return true;\n})()\n"},"id":"bcf929b8f3a2455e8b04865c0e338220","name":"Item with no variables"},{"type":"Branch","type":"Branch","label":"Item with variables","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var qIndex = parseInt(vaVars.qIndex);\n    //qIndex is -1 initially, we reset this before search again step \n\n    do{\n        qIndex++;\n        var question = itemJson.variables[qIndex];\n    }\n    while(question &amp;&amp; (!question.visible || question.readonly || question.sys_readonly));\n\n    if (question) {\n       //There are variables that we can show\n        return true;\n    }\n    //No variables  that we can show\n    return false;\n})()\n"},"id":"03f90dd810f1431dade9424f395ca331","name":"Item with variables"}],"id":"7cafd41087d6473bad367721be31459f","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"OK, let's finish up your request.\", vaContext.getRequesterLang())"}],"id":"04f210cee60d45c6bc89e1e3b9ff2324","name":"Start Questions","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Questions Done","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var qIndex = parseInt(vaVars.qIndex);\n    //qIndex is -1 initially, we reset this before search again step \n    do{\n        qIndex++;\n        var question = itemJson.variables[qIndex];\n    }\n    while(question &amp;&amp; (!question.visible || question.readonly || question.sys_readonly));\n\n    if (question) {\n       //There are variables that we can show\n        return false;\n    }\n    //No variables that we can show\n    return true;\n})()"},"id":"072896f1e640405d89e69ae1337730a2","name":"Questions Done"},{"type":"Branch","type":"Branch","label":"Questions Left","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n     var itemJson = JSON.parse(vaVars.itemJSON);\n    var qIndex = parseInt(vaVars.qIndex);\n    //qIndex is -1 initially, we reset this before search again step \n\n    do {\n        qIndex++;\n        var question = itemJson.variables[qIndex];\n    }\n    while(question &amp;&amp; (!question.visible || question.readonly || question.sys_readonly));\n\n    if (question) {\n        vaVars.qIndex = qIndex;\n        return true;\n    }\n    return false;\n})()"},"id":"d84b94e2e3ce41e4909e35ac9ea43a13","name":"Questions Left"}],"id":"bd097b79bae14762856484305429756e","goal_id":"primary"},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Catalog Item","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    if (itemJson.sys_class_name !== 'sc_cat_item_producer')\n        return true;\nreturn false;\n})()\n"},"id":"dce5a068b3634f4f807457cedb0c084c","name":"Catalog Item"},{"type":"Branch","type":"Branch","label":"Record Producer","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    if (itemJson.sys_class_name === 'sc_cat_item_producer')\n        return true;\nreturn false;\n})()\n"},"id":"88c6c8428cdf4bf0a1cf3a0c78bbfbed","name":"Record Producer"}],"id":"e93430b8a37246369a0fc4024c59339d","goal_id":"primary"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"e52e7b19809b477e8dd34158ff059f5e","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Alright, you're all set. Shall I submit this request?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"86b4b6f72ba14424bb039f7ef0b75636","name":"Submit Producer","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Don't Submit","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"submit_producer="},"id":"f0e0780dd86847ff8e767eb28a6bf4b7","name":"Don't Submit"},{"type":"Branch","type":"Branch","label":"Submit Now","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"submit_producer=true"},"id":"d37c853764704f2998bd4602e97be89a","name":"Submit Now"}],"id":"6ac1e6fb6c1f4384888390e0ce949990","goal_id":"primary"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n   var itemJson = JSON.parse(vaVars.itemJSON);\n    var variablesObj = {};\n    var attachmentIds = [];\n    for (i = 0; i &lt; itemJson.variables.length; i++) {\n        variablesObj[itemJson.variables[i].name] = itemJson.variables[i].value;\n        if (itemJson.variables[i].type === 33)\n           attachmentIds.push(itemJson.variables[i].value);\n    }\n   var reqObject = {\n       \"sysparm_id\" : itemJson.sys_id,\n       \"sysparm_action\" : 'execute_producer',\n        \"variables\" : variablesObj,\n        \"engagement_channel\" : 'va'\n   }\n   var response = new sn_sc.CatItem(itemJson.sys_id).submitProducer(reqObject);\n   if (response) {\n       vaVars.record_id = response.sys_id;\n       vaVars.record_table = response.table;\n       // add attachment to record\n       var mediaLinksFormAttachment = vaVars.media_links_form_attachment.split(',');\n       for (var i in mediaLinksFormAttachment)\n           vaSystem.attachToRecord(mediaLinksFormAttachment[i], response.table, response.sys_id);\n\n       // move attachment variable to record\n       var gr = new GlideRecord('sys_attachment');\n       gr.addQuery('sys_id', 'IN' , attachmentIds);\n       gr.query();\n       while (gr.next()) {\n           gr.setValue('table_name', 'ZZ_YY' + response.table);\n           gr.setValue('table_sys_id', response.sys_id);\n           gr.update();\n       }\n   }\n})()\n","id":"56486e79670a4a58b1ad74c512ac8614","name":"Insert the Record","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"InputPrompt","type":"InputPrompt","variable_id":"519b084f442744ba9cdec5539b5c80aa","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Alright, you're all set. Shall I submit this request?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"5b22d4293e194df39a983c82efeb0d85","name":"Order Item","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Don't Order","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"order_item="},"id":"f3da69cc95e84d66b114ef45a16e38cb","name":"Don't Order"},{"type":"Branch","type":"Branch","label":"Order Now","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"order_item=true"},"id":"9618b1ea8ba842b1acd409a01729b462","name":"Order Now"}],"id":"68001e11b17d4fbd8efe2f9a14396448","goal_id":"primary"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var cartname = \"vacart_\" + gs.generateGUID();\n    var cartObj = new sn_sc.CartJS(cartname);\n    cartObj.setRequestedFor(vaVars.request_for);\n    cartObj.setEngagementChannel('va');\n\n    var variablesObj = {};\n    var attachmentIds = [];\n    for (i = 0; i &lt; itemJson.variables.length; i++) {\n        variablesObj[itemJson.variables[i].name] = itemJson.variables[i].value;\n        if (itemJson.variables[i].type === 33)\n           attachmentIds.push(itemJson.variables[i].value);\n    }\n        \n\n    var reqObj = {\n        \"sysparm_id\" : itemJson.sys_id,\n        \"variables\" : variablesObj\n    };\n    cartObj.addToCart(reqObj);\n    var requestResponse = cartObj.checkoutCart(true);\n    var requestGr = new GlideRecord('sc_request');\n    if (requestGr.get(requestResponse.request_id)) {\n        var reqItemGr = new GlideRecord('sc_req_item');\n        reqItemGr.addQuery(\"request\", requestResponse.request_id);\n        reqItemGr.query();\n        if (reqItemGr.next()) {\n            vaVars.record_id = reqItemGr.getUniqueValue();\n            vaVars.record_table = 'sc_req_item';\n            // add attachment to record\n            var mediaLinksFormAttachment = vaVars.media_links_form_attachment.split(',');\n            for (var i in mediaLinksFormAttachment)\n                vaSystem.attachToRecord(mediaLinksFormAttachment[i], vaVars.record_table, vaVars.record_id);\n\n        }\n        // move attachment variable to record\n        var gr = new GlideRecord('sys_attachment');\n        gr.addQuery('sys_id', 'IN' , attachmentIds);\n        gr.query();\n        while (gr.next()) {\n            gr.setValue('table_name', 'ZZ_YY' + vaVars.record_table);\n            gr.setValue('table_sys_id', vaVars.record_id);\n            gr.update();\n        }\n    }\n})()","id":"b4b0d556c5ec4600acbdaf5f1f6ba2d7","name":"Checkout Cart","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Question Requested For","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    if (JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 31)\n        return true;\n})()\n"},"id":"5f5a1222810c45bbb6f4fcd6c10678c2","name":"Question Requested For"},{"type":"Branch","type":"Branch","label":"Date Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 9;\n})()\n"},"id":"b736d2dbd8cc46a5a7dd268ac8d33eeb","name":"Date Question"},{"type":"Branch","type":"Branch","label":"Text Type Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var type = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type;\n    return type === 2 || type === 6 || type === 16;\n})()"},"id":"35b19300629446cc94f294cf07bbaa10","name":"Text Type Question"},{"type":"Branch","type":"Branch","label":"Date-Time Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 10;\n})()\n"},"id":"58fa97ada8df43e4b91a64a6941baf45","name":"Date-Time Question"},{"type":"Branch","type":"Branch","label":"Question Label","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 11;\n})()"},"id":"3dc556e119444880b62e5061b1ee0b4b","name":"Question Label"},{"type":"Branch","type":"Branch","label":"Container Or Break Questions","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var type = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type;\n    if (type === 0 || type === 12 || type === 19 || type === 20 || type === 24)\n        return true;\n})()\n"},"id":"5f1862f56af24ffc934f41099ffb8466","name":"Container Or Break Questions"},{"type":"Branch","type":"Branch","label":"Unsupported  Variable  Types","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var unSupportedTypes = vaVars.unsupportedVarTypes.split(',');\n   return unSupportedTypes.indexOf(String(JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type)) !== -1;\n})()\n"},"id":"e6290d9552294a91816eb504d46ecefe","name":"Unsupported  Variable  Types"},{"type":"Branch","type":"Branch","label":"Email Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 26;\n})()\n"},"id":"420714f6774442bcbccbc08b76089d80","name":"Email Question"},{"type":"Branch","type":"Branch","label":"Ip Address Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 28;\n})()\n"},"id":"47db15035c2a4f9ea57d07673ae465c3","name":"Ip Address Question"},{"type":"Branch","type":"Branch","label":"URL Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 27;\n})()\n"},"id":"f3c50c1125f4495bb2cde11dc7d0b7a0","name":"URL Question"},{"type":"Branch","type":"Branch","label":"Question Attachment","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 33;\n})()\n"},"id":"130db8998717472089f4fabd6caab973","name":"Question Attachment"},{"type":"Branch","type":"Branch","label":"Rich Text Label Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 32;\n})()\n"},"id":"36a17b42219b4c5f921ee1ff51509c64","name":"Rich Text Label Question"},{"type":"Branch","type":"Branch","label":"Choice Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var type = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type;\n    return type === 1 || type === 3 || type === 4 || type === 5 || type === 18 || type === 22;\n})()\n"},"id":"ec668d6b91da42d593028490f2ebc455","name":"Choice Question"},{"type":"Branch","type":"Branch","label":"Reference Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 8;\n})()"},"id":"f7722976f9104db28e90d53a5e94ca4d","name":"Reference Question"}],"id":"044e1ce1c08941c0b118e88e1fffdad3","goal_id":"primary"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"e95fe3cbaa0145ba915335119d9222b4","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"},"id":"e2daf38ea63045f6a020f0aafd5fba95","name":"Question Date","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    vaVars.validation_message = \"\";\n    var quesJson = itemJson.variables[vaVars.qIndex];\n    var type = quesJson.type;\n    var vaFieldValidator = new global.VAFieldValidator();\n    // If user doesn't want to proceed with the selected value and skips the question, the variable would be set to \"\"\n    var proceedWithDefaultValue = vaInputs.proceed_with_default.getValue();\n    switch (type) {\n        case 2:\n        case 6:\n        case 16:\n            var ans = vaInputs.question_text.getValue() || (proceedWithDefaultValue ? quesJson.display_value : \"\");\n            if (ans.trim().length === 0 &amp;&amp; itemJson.variables[vaVars.qIndex].mandatory) {\n                vaVars.validation_message = gs.getMessage('You must answer this question');\n                break;\n            }\n            if (type === 2) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_text = \"\";\n                break;\n            }\n            var q = GlideappQuestion.getQuestion(itemJson.variables[vaVars.qIndex].sys_id);\n            var validresponse = q.validateRegex(ans);\n            if (validresponse) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_text = \"\";\n            } else if (!validresponse)\n                vaVars.validation_message = q.getValidationMessage();\n            break;\n        case 9:\n            itemJson.variables[vaVars.qIndex].value = vaInputs.question_date.getDisplayValue() || (proceedWithDefaultValue ? quesJson.display_value : \"\");\n            vaInputs.question_date = \"\";\n            break;\n        case 10:\n            itemJson.variables[vaVars.qIndex].value = vaInputs.question_date_time.getDisplayValue() || (proceedWithDefaultValue ? quesJson.display_value : \"\");\n            vaInputs.question_date_time = \"\";\n            break;\n        case 8:\n            var ans = (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_reference)\n                ans = vaInputs.question_reference.getValue();\n\n            itemJson.variables[vaVars.qIndex].value = ans;\n            vaInputs.question_reference = \"\";\n            break;\n        case 1:\n        case 3:\n        case 4:\n        case 5:\n        case 18:\n        case 22:\n            var ans = (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_choice) {\n                ans = vaInputs.question_choice.getValue();\n                ans = ans == 'no_data' ? '' : ans;\n            }\n            itemJson.variables[vaVars.qIndex].value = ans;\n            vaInputs.question_choice = \"\";\n            break;\n        case 26:\n            var ans = vaInputs.question_email.getValue() || (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_email.getValue() || ans == \"\" || vaFieldValidator.validateEmailAddress(ans)) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_email = \"\";\n            } else\n                vaVars.validation_message = gs.getMessage(\"This isn't a valid email address\");\n            break;\n        case 27:\n            var ans = vaInputs.question_url.getValue() || (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_url.getValue() || ans == \"\" || vaFieldValidator.validateURL(ans)) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_url = \"\";\n            } else\n                vaVars.validation_message = gs.getMessage(\"This isn't a valid URL\");\n            break;\n        case 28:\n            var ans = vaInputs.question_ip_address.getValue() || (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_ip_address.getValue() || ans == \"\" || vaFieldValidator.validateIPAddress(ans)) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_ip_address = \"\";\n            } else\n                vaVars.validation_message = gs.getMessage(\"This isn't a valid IP Address\");\n            break;\n        case 31:\n            var ans = quesJson.default_value + '';\n            if (quesJson.default_value &amp;&amp; proceedWithDefaultValue)\n                vaVars.request_for = ans;\n            else if (vaVars.request_for)\n                ans = vaVars.request_for;\n            itemJson.variables[vaVars.qIndex].value = ans;\n    }\n    if (!vaVars.request_for)\n        vaVars.request_for = gs.getUserID() + '';\n    if (quesJson.data_lookup_ids &amp;&amp; quesJson.data_lookup_ids.length != 0) {\n        var helper = new sn_sc.CatalogConversationHelper();\n        vaVars.itemJSON = JSON.stringify(helper.runDataLookups(itemJson, quesJson.sys_id));\n    } else\n        vaVars.itemJSON = JSON.stringify(itemJson);\n\n// resetting the value of proceed with default incase validation fails\n   if (vaVars.validation_message.length !== 0)\n       vaInputs.proceed_with_default = false;\n})()\n","id":"8571b1f84e414e41914e01502f71238e","name":"Post Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Repeat Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaVars.validation_message.length !== 0;\n})()\n"},"id":"b92ac370da674928b2b94583a4c96ae5","name":"Repeat Question"},{"type":"Branch","type":"Branch","label":"Next Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaVars.validation_message.length === 0;\n})()\n"},"id":"341be07fa29e42e5b746dafbe092a638","name":"Next Question"}],"id":"f989a9ad87b94635ba8e11bffd25db3e","goal_id":"primary"},{"type":"ScriptOutputPrompt","type":"ScriptOutputPrompt","output_type":"single_part","id":"fc2ba28a1a4e4bd388f04f533bf8b9b8","name":"Validation Message","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"value":{"type":"String","type":"String","mode":"string","value":"(function execute() {\n      var singleOutMsg = new sn_cs.SinglePartOutMsg();\n       singleOutMsg.setTextPart(gs.getMessage('{0}. Answer the question again', vaVars.validation_message));\n       return singleOutMsg;\n})()"},"secure":false},{"type":"InputPrompt","type":"InputPrompt","variable_id":"ae8f2994ca9a4ca4ab9b12d80a159ca6","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"},"id":"8824db40c313417ab7a99c4d59bad6d7","name":"Question Text","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"ReferenceChoiceInputPrompt","type":"ReferenceChoiceInputPrompt","mode":"external","id":"6b8aa52a3ca04f39870be2695998ed44","name":"Question Reference","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"6066fb5d224646848d768d0d34e4e747","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"expression_mode":"script","script":"(function execute() {\n    var options = [];\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var variable = itemJson.variables[vaVars.qIndex];\n\n    var gr = new GlideRecordSecure(variable.reference);\n    gr.addQuery(variable.qualifier);\n    if (variable.ref_ac_order_by)\n        gr.orderBy(variable.ref_ac_order_by);\n    else\n        gr.orderBy(gr.getDisplayName());\n    \n    gr.query();\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n    \n    return options;    \n})()","metadataScript":"","cardName":"","cardFields":[],"no_options_found_message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"No records found\", vaContext.getRequesterLang())"},"condition":{"type":"Condition","mode":"external_script","value":"(function execute() {\n    var options = [];\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var variable = itemJson.variables[vaVars.qIndex];\n\n    var gr = new GlideRecordSecure(variable.reference);\n    gr.addQuery(variable.qualifier);\n    if (variable.ref_ac_order_by)\n        gr.orderBy(variable.ref_ac_order_by);\n    else\n        gr.orderBy(gr.getDisplayName());\n    \n    gr.query();\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n    \n    return options;    \n})()"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    vaVars.record_id = \"-1\";\n})()\n","id":"da1b34f6779a49c799e1dd03cd78e8e7","name":"Set Record ID to -1","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ReferenceChoiceInputPrompt","type":"ReferenceChoiceInputPrompt","mode":"external","id":"16235ad80af844cfb63edd1554078562","name":"Question Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"a0567c2eb08f4522a633c139735bfc03","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var question = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if (question.mandatory)\n        return false;\n    if (question.type === 3 &amp;&amp; question.value === '' &amp;&amp; question.options[0].value !== '') \n        return true;\n    if (question.type === 4 &amp;&amp; question.value === '')\n        return true;\n    return false;\n})();\n"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"expression_mode":"script","script":"(function execute() {\n    var options = [];\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    var choices = quesJson.options;\n    if (choices.length &gt; 0 &amp;&amp; quesJson.mandatory) {\n        if (!choices[0].value)\n            choices.shift();\n    }\n    \n    options = choices;\n    return options;    \n})()","metadataScript":"","cardName":"","cardFields":[],"no_options_found_message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"No records found\", vaContext.getRequesterLang())"},"condition":{"type":"Condition","mode":"external_script","value":"(function execute() {\n    var options = [];\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    var choices = quesJson.options;\n    if (choices.length &gt; 0 &amp;&amp; quesJson.mandatory) {\n        if (!choices[0].value)\n            choices.shift();\n    }\n    \n    options = choices;\n    return options;    \n})()"}},{"type":"InputPrompt","type":"InputPrompt","variable_id":"1a84b23329ff407691629ee0413ffaa3","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"},"id":"6ea3e29bd18b45fbad79026d8a0f99e1","name":"Question Date Time","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"}],"id":"370ad3fb273a453e926fe6755ae2a038","name":"Question Label","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"}],"id":"8ec688331ad149858a71a2dac931aaca","name":"Container Start Question","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if (quesJson.display_title)\n        return true;\n})()\n"},"secure":false},{"type":"ReferenceChoiceInputPrompt","type":"ReferenceChoiceInputPrompt","mode":"external","id":"183ed373d35044eab535dd135ff292f2","name":"Question Requested For","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"d4eeeae471a04ae4856ecd2d62713f99","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"expression_mode":"script","script":"(function execute() {\n    var options = [];\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var count = 0;\n    var gr = new GlideRecordSecure('sys_user');\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    gr.addEncodedQuery('nameLIKE'+ vaInputs.search_requested_for);\n    gr.addQuery(quesJson.qualifier);\n    gr.orderBy(gr.getDisplayName());\n    gr.chooseWindow(index, index + limit, true);\n    gr.query();\n\n    var count = gr.getRowCount();\n    vaVars.count = count;\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n    \n    if (count &gt; 0) {\n        options.push({\n            'value' : 'search',\n            'label' : gs.getMessage('Someone else')\n        });\n    }\n    return options;    \n})()\n","metadataScript":"","cardName":"","cardFields":[],"no_options_found_message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"I couldn't find a user with that name\", vaContext.getRequesterLang())"},"condition":{"type":"Condition","mode":"external_script","value":"(function execute() {\n    var options = [];\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var count = 0;\n    var gr = new GlideRecordSecure('sys_user');\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    gr.addEncodedQuery('nameLIKE'+ vaInputs.search_requested_for);\n    gr.addQuery(quesJson.qualifier);\n    gr.orderBy(gr.getDisplayName());\n    gr.chooseWindow(index, index + limit, true);\n    gr.query();\n\n    var count = gr.getRowCount();\n    vaVars.count = count;\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n    \n    if (count &gt; 0) {\n        options.push({\n            'value' : 'search',\n            'label' : gs.getMessage('Someone else')\n        });\n    }\n    return options;    \n})()\n"}},{"type":"InputPrompt","type":"InputPrompt","variable_id":"316846c0a2a24d999f17a5a01ef4f36f","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Who should I set it to?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"fe34c0add58848ad9793da50eca42e33","name":"Search Requested For","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Requested For Next","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.question_requested_for.getValue() === 'next';\n})()\n"},"id":"b386341b3fff4b8fbfc41385ec0c9ffb","name":"Requested For Next"},{"type":"Branch","type":"Branch","label":"Search Requested For","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return !vaInputs.question_requested_for.getValue() || vaInputs.question_requested_for.getValue() === 'search';\n})()\n"},"id":"a7096bd1dabd40ed867a13e54db78f10","name":"Search Requested For"},{"type":"Branch","type":"Branch","label":"Requested For Chosen","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var valuePicked = vaInputs.question_requested_for.getValue();\n    var condition = valuePicked !== 'next' &amp;&amp; valuePicked !== 'prev';\n    if (condition) {\n        vaVars.count = 0;\n        vaVars.index = 0;\n    }\n    return condition;\n})();"},"id":"a261d65640854cfc8ebaea6045c545f1","name":"Requested For Chosen"},{"type":"Branch","type":"Branch","label":"Requested For Prev","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.question_requested_for.getValue() === 'prev';\n})()\n"},"id":"576b01242c48445eac0dc6551bb7584d","name":"Requested For Prev"}],"id":"07625e3aefb04160b9e511077decd883","goal_id":"primary"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var count = parseInt(vaVars.count);\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    if ( index + limit &gt; count )\n        vaVars.index = 0;\n    else\n        vaVars.index = index + limit;\n})();","id":"f5f724982a8d46ba8d1297fa5afec71a","name":"Requested For Next Page","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var item = new sn_sc.CatItem(JSON.parse(vaVars.itemJSON).sys_id);\n    vaVars.request_for = vaInputs.question_requested_for.getValue() + '';\n    vaVars.canView = item.isDelegationAllowed(vaVars.request_for);\n})()\n","id":"b63dd1929f4c4a0b8c5a33425f5ebd76","name":"Is Delegation Allowed","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Can View","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaVars.canView;\n})()\n"},"id":"64633c368dc947529f54116881584a86","name":"Can View"},{"type":"Branch","type":"Branch","label":"Cannot View","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return !vaVars.canView\n})()\n"},"id":"eb52930226e64bdb8de5e4f635e9b1ae","name":"Cannot View"}],"id":"9262b503ad7b46178def86c2615bfae9","goal_id":"primary"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var c = index - limit;\n    if ( c &lt; 0 ) c = 0;\n    vaVars.index = c;\n})();","id":"df4cfc3f53434f19a6fb3acbdb083a83","name":"Requested For Previous Page","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"InputPrompt","type":"InputPrompt","variable_id":"f150d45666a5413f84ce5edb35d55feb","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"The selected user does not have access to this item. Do you want to request for  someone else?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"5d45aa11131b45f09dcd7416f592aeff","name":"Request For Another User","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Request for Another User","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"request_for_another_user=true"},"id":"c206509d69ec4bc19053a3cdf53951e8","name":"Request for Another User"},{"type":"Branch","type":"Branch","label":"End Conversation","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"request_for_another_user="},"id":"8a277caf2e91480eaa1e5ab79d1bd3ae","name":"End Conversation"}],"id":"05255bdbac644088b5659eec17ce50c1","goal_id":"primary"},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"No onChange Policies","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).has_on_change_policies;\n})()\n"},"id":"7277dec8dc40448b9d5b6a59cc891a87","name":"No onChange Policies"},{"type":"Branch","type":"Branch","label":"Has onChange Policies","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return JSON.parse(vaVars.itemJSON).has_on_change_policies;\n})()\n"},"id":"aa5bbaf8919e46b18869727bb06812c5","name":"Has onChange Policies"}],"id":"56f07b4d847e420db66e8d81361ddd10","goal_id":"primary"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n   vaVars.itemJSON = JSON.stringify(new sn_sc.CatalogConversationHelper().runChangePolicies(JSON.parse(vaVars.itemJSON)))\n})()\n","id":"4f7ac9b4ddbe4b2b9ea7414c9fcb685b","name":"Run OnChange Policies","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b8aefaa78de041dfb7c705d1fa721695","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"},"id":"8d93d8843de844d48aa28d704be88a24","name":"Question Email","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"33513d135b1200101f254d3ba881c7d5","validationScript":""},{"type":"InputPrompt","type":"InputPrompt","variable_id":"8784f8f9c63c4b53b708f51c24e4137d","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"},"id":"ae30428de0854b879e2463db21a8a9a3","name":"Question IP Address","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"a860c5945b2200101f254d3ba881c7df","validationScript":""},{"type":"InputPrompt","type":"InputPrompt","variable_id":"6d184d69a1d14128b92a42695edb2d46","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"},"id":"33d38415583140099fe1b76b257da175","name":"Question URL","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"77d8b2935b9200101f254d3ba881c7b9","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Has  No Attachment","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return item.no_attachments === true;\n})()\n"},"id":"4b7e0f3d1eeb48d8a24a66c719bdf8b1","name":"Has  No Attachment"},{"type":"Branch","type":"Branch","label":"Has Attachment","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return item.no_attachments === false;\n})()\n"},"id":"2b5ff25672cd4e1d9a7c216d48a5c455","name":"Has Attachment"}],"id":"a3a9e1d6acc24cfab94bad3b1646ba39","goal_id":"primary"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"1b21c82a99564ef3a294397c5f8c888d","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    return gs.getMessage('Add attachment?');\n})()\n"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"bab8fe0ff1b0424aaaffe2d3e1357205","name":"Add Attachment","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return !item.mandatory_attachment;\n})()\n"}},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"No","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return !item.mandatory_attachment &amp;&amp; !vaInputs.add_attachment.getValue();\n})()\n"},"id":"c3d12606ae884979bf70a4535250cf91","name":"No"},{"type":"Branch","type":"Branch","label":"Yes","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return item.mandatory_attachment || vaInputs.add_attachment.getValue();\n})()\n"},"id":"1bf37241ce5743e3bfb85e55d7bdc3cf","name":"Yes"}],"id":"69a42a60bce441aabd4e1425fb6ff001","goal_id":"primary"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"185f1193f47746acb6a311742dc54203","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    return gs.getMessage('Upload attachment');\n})()\n"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var addMore = false;\n    //when attachment is mandatory, to provide an option to skip add more \n    if (vaInputs.add_more &amp;&amp; vaInputs.add_more.getValue())\n        addMore = true;\n        \n    return !JSON.parse(vaVars.itemJSON).mandatory_attachment || addMore;\n})()"},"id":"e38cf83bb0f1413293b5a3285df60e95","name":"Upload Attachment","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    if (!!vaVars.media_links_form_attachment)\n        vaVars.media_links_form_attachment = vaVars.media_links_form_attachment + ',' + vaInputs.upload_attachment.getValue();\n    else\n        vaVars.media_links_form_attachment = vaInputs.upload_attachment.getValue();\n})()\n","id":"44656362c3fb478b9873ab25b87680fc","name":"Add Media Links for Form Attachment","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"InputPrompt","type":"InputPrompt","variable_id":"ff1ae4758d9b40b89e17929fd3fd581e","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    return gs.getMessage('Add more?');\n})()\n"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"b63b61c9c83b46958de81eb056a6a082","name":"Add More","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Yes","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"add_more=true"},"id":"67710e4ed35840c6ba5c24f9a69e74bf","name":"Yes"},{"type":"Branch","type":"Branch","label":"No","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"add_more="},"id":"7fe1b7207c7a417cad6ccd1b6cdd8888","name":"No"}],"id":"07dc3cad038f44008d29ce413d2bb540","goal_id":"primary"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"6c9b723708b643a7900b672d101eea1d","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()\n"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"},"id":"8829f10d9ccb4d5c9001d4aae75eb484","name":"Question Attachment","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    vaVars.validation_message = \"\";\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var quesJson = itemJson.variables[vaVars.qIndex];\n    var vaUtils = new global.VAUtils();\n    var arr = vaInputs.question_attachment.getValue().split('/');\n    var mediaId = arr[arr.length - 1];\n    var gr = new GlideRecord('sys_cs_media');\n    gr.addQuery('media_id', mediaId);\n    gr.query();\n    if (gr.next()) {\n        var attachmentId = gr.getValue('sys_attachment_id');\n        var attachRef = new GlideRecord('sys_attachment');\n        if (attachRef.get(attachmentId)) {\n            var file = {\n                name: attachRef.getValue('file_name'),\n                size: attachRef.getValue('size_bytes')\n            };\n            var allowedExtensions = new Array();\n            if (quesJson.allow_extension)\n               allowedExtensions = quesJson.allow_extension.split(';');\n            var field = {\n                allowedExtensions: allowedExtensions,\n                allowedFileSize: quesJson.max_file_size\n            };\n            var result = vaUtils.validateAttachment(file, field);\n            if (result.type == 'success') {\n                quesJson.value = attachmentId;\n                vaVars.itemJSON = JSON.stringify(itemJson);\n                vaInputs.question_attachment.setValue('');\n            } else\n                vaVars.validation_message = result.message;\n        } else \n            vaVars.validation_message = gs.getMessage('Failed to upload the attachment');\n    } else \n        vaVars.validation_message = gs.getMessage('Failed to upload the attachment');\n})()\n","id":"b55bad4e16584b4bb58e831478fa1240","name":"Validate Attachment","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"query","value":"question_attachmentISNOTEMPTY"}},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Next Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaVars.validation_message.length === 0;\n})()\n"},"id":"67c3516b5b6541179aa9c99f4f1ab023","name":"Next Question"},{"type":"Branch","type":"Branch","label":"Repeat Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaVars.validation_message.length !== 0;\n})()\n"},"id":"3aeb930f93c14f3a93fdeafb9148597c","name":"Repeat Question"}],"id":"8521cdbae0d24e6c83e02fc046a56379","goal_id":"primary"},{"type":"ScriptOutputPrompt","type":"ScriptOutputPrompt","output_type":"single_part","id":"f801dd6a055f41acb70e498238be8a12","name":"Validation Message","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"value":{"type":"String","type":"String","mode":"string","value":"(function execute() {\n     var singleOutMsg = new sn_cs.SinglePartOutMsg();\n       singleOutMsg.setTextPart(gs.getMessage('{0}. Answer the question again', vaVars.validation_message));\n       vaVars.validation_message = \"\";\n       return singleOutMsg;\n})()\n"},"secure":false},{"type":"Decision","type":"Decision","name":"Is Record Producer","branches":[{"type":"Branch","type":"Branch","label":"No","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n   \n    if (itemJson.sys_class_name !== 'sc_cat_item_producer') {\n        return true;\n    }    \n    return false;\n})()\n"},"id":"dabe73aa45aa4c1faea64efdff3caac3","name":"No"},{"type":"Branch","type":"Branch","label":"Yes","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    if (itemJson.sys_class_name === 'sc_cat_item_producer') {\n        return true;\n    }    \n    return false;\n})()"},"id":"64a22590e68b42a8a269c677bbe39026","name":"Yes"}],"id":"0c2e9fcdbe32409fae7127893740c5b6","goal_id":"primary"},{"type":"Decision","type":"Decision","name":"Execute Contextual Search","branches":[{"type":"Branch","type":"Branch","label":"No","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    /**\n     * Topic should pass execute_contextual_search as input if contextual search is required\n     *  It will execute contextual search only first time. For subsequent text variables, it will be skipped\n     */\n    var ans = vaInputs.question_text.getValue();\n    if(vaInputs.execute_contextual_search == 'false' || ans.trim().length === 0) {\n        return true;\n    }\n    return false;    \n})()\n"},"id":"5a02aa20c58d4128b48ac5330b7efe76","name":"No"},{"type":"Branch","type":"Branch","label":"Yes","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    /**\n     * Topic should pass execute_contextual_search as input if contextual search is required\n     *  It will execute contextual search only first time. For subsequent text variables, it will be skipped\n     */\n    var ans = vaInputs.question_text.getValue();\n    if(vaInputs.execute_contextual_search == 'true'  &amp;&amp; ans.trim().length !== 0) {\n        return true;\n    }\n    return false;     \n})()\n"},"id":"fbc2a483bb0945e39b8c813cd8252f28","name":"Yes"}],"id":"5d39b4c7f6794899b2516248682e5d70","goal_id":"primary"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var contextualSearch = new global.VAGlobalContextualSearchUtil();\n    if(gs.nil(vaVars.contextualSearchVariable)) {\n        var searchConfig = contextualSearch.getContextualSearchVariableAndContext(vaInputs.catalog_item_id);\n        vaVars.contextualSearchVariable = searchConfig.searchVariable;\n        vaVars.contextualSearchContext = searchConfig.context;\n    }\n    return;\n})()\n","id":"0a188a759f604c848f57f06c768ee997","name":"Get Search Variable And Context","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","type":"Decision","name":"Contextual Search Variable ?","branches":[{"type":"Branch","type":"Branch","label":"No","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if(vaVars.contextualSearchVariable !== quesJson.sys_id) {\n        return true;\n    }\n    return false;\n})()"},"id":"222d6fb4dd034a7da7cc37b80e627d00","name":"No"},{"type":"Branch","type":"Branch","label":"Yes","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if(vaVars.contextualSearchVariable === quesJson.sys_id) {\n        return true;\n    }\n    return false;\n})()"},"id":"22e25a428bc647969733623b759c10f9","name":"Yes"}],"id":"56d0aab82fe04303b99d36f7cce63972","goal_id":"primary"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var contextualSearch = new global.VAGlobalContextualSearchUtil();\n    var response = contextualSearch.search(\n        vaVars.contextualSearchContext, vaInputs.question_text.getValue(), ''\n    );\n    var success = contextualSearch.processSearchResponse(response);\n    if (!success) {\n        return;\n    }  \n    var relevantSearchResults = contextualSearch.processGeneralResults(response, 20, -2);\n    vaVars.contextualSearchResultCount = relevantSearchResults.length;\n    vaVars.contextualSearchResultJsonString = JSON.stringify(relevantSearchResults);\n    vaVars.contextualSearchIndex = 0;\n    return;\n})()\n","id":"f77f196c8c95407ab2759d0752c46342","name":"Contextual Search","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","type":"Decision","name":"Did the search return results ?","branches":[{"type":"Branch","type":"Branch","label":"No","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    if(vaVars.contextualSearchResultCount &lt;= 0){\n        return true;\n    }\n    return false;\n})()\n"},"id":"255d7b905b9a4417996075f4ae095ace","name":"No"},{"type":"Branch","type":"Branch","label":"Yes","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    if(vaVars.contextualSearchResultCount &gt; 0){\n        return true;\n    }\n    return false;\n})()\n"},"id":"ea83f033f5fe4d3b9121490fbf0dc3b5","name":"Yes"}],"id":"e6d5f126883048b5a8689e65d7288bbb","goal_id":"primary"},{"type":"LinkOutputPrompt","type":"LinkOutputPrompt","header":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"I found some information that might help you:\", vaContext.getRequesterLang())"},"label":{"type":"String","type":"String","mode":"string","value":""},"url":{"type":"String","type":"String","mode":"string","value":""},"link_type":"multiple","multi_link_script":"(function execute(header) {\n\tvar contextualSearch = new global.VAGlobalContextualSearchUtil();\n\tvar variables = {\n\t\tlimit: vaVars.contextualSearchResultLimit,\n\t\tindex: vaVars.contextualSearchIndex,\n\t\tsearch_result_json_string: vaVars.contextualSearchResultJsonString,\n\t\tportal: ''\n\t}\n\tvar groupedLinksOutMsg = contextualSearch.getLinks(header, variables);\n\treturn groupedLinksOutMsg;\n})(header)\n","id":"0ddad87a60304350b756711a4a8cf6e1","name":"Display multi-link","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","type":"Decision","name":"Did Articles Help ?","branches":[{"type":"Branch","type":"Branch","label":"Yes","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"did_articles_help=true"},"id":"15b16e71798e46b782033f176d864d6a","name":"Yes"},{"type":"Branch","type":"Branch","label":"No","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"did_articles_help!=true"},"id":"545bd8c00c6847a5968e4e23a5ab1ddb","name":"No"}],"id":"d041488d76d5403c9d07120379efe948","goal_id":"primary"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"8ab9c73162424238a1012a23af55d30d","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Did any of this information resolve your issue?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"1ab59bcfc4454c868b23947965fb7839","name":"Did Articles Help","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","type":"Decision","name":"Confirmation Required ?","branches":[{"type":"Branch","type":"Branch","label":"Yes","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"confirm_catalog_item=true"},"id":"d1b83d4f84f045e490cfd72e106527ae","name":"Yes"},{"type":"Branch","type":"Branch","label":"No","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"confirm_catalog_item=false"},"id":"708e0daae52e4fa0a48e45ea726eb250","name":"No"}],"id":"aa99b4d4130f4efda7f9942686855ab5","goal_id":"primary"},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Order","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    if (vaContext.catalog_builder_preview)\n       return false;\n    return true;\n})()\n"},"id":"a5ebae6138484483bd9a1b6016041173","name":"Order"},{"type":"Branch","type":"Branch","label":"Preview","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   if (vaContext.catalog_builder_preview)\n      return true;\n   return false;\n})()\n"},"id":"ece45bf8da48426080049c4cefb4424c","name":"Preview"}],"id":"a63a438b92184b43b5646802d23c8610","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Preview successful\", vaContext.getRequesterLang())"}],"id":"f5f71b7b0d4142a8b78c8af9affd12a5","name":"Catalog Builder Preview","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Submit","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    if (vaContext.catalog_builder_preview)\n       return false;\n    return true;\n})()\n"},"id":"1ad3b7c4c1e14352aa39fb091811837e","name":"Submit"},{"type":"Branch","type":"Branch","label":"Preview","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   if (vaContext.catalog_builder_preview)\n      return true;\n   return false;\n})()\n"},"id":"170be5e33cdc4692a59491e11e37cf43","name":"Preview"}],"id":"713e14f86ad140a7b8fe3338fcb1b48d","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Since this was a preview, the request was not submitted\", vaContext.getRequesterLang())"}],"id":"48b421f110d146968f8972df5af8201e","name":"Catalog Builder Preview Message","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Attachment uploaded","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"upload_attachmentISNOTEMPTY"},"id":"7502841e1312415ca74a194ae0fd5f05","name":"Attachment uploaded"},{"type":"Branch","type":"Branch","label":"Attachment skipped","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"upload_attachmentISEMPTY"},"id":"b7fc0a22a9a74080b2044483c6a4276d","name":"Attachment skipped"}],"id":"6d6cda5633e548ed9f132b1c888799e8","goal_id":"primary"},{"type":"ScriptOutputPrompt","type":"ScriptOutputPrompt","output_type":"single_part","id":"af634ddaa6aa449883315424de2dca9e","name":"Question Rich Text Label","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"value":{"type":"String","type":"String","mode":"string","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"},"secure":false},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    var renderedValue = quesJson.display_value ? quesJson.display_value : quesJson.value;\n    return gs.getMessage(\"&lt;b&gt;{0}&lt;/b&gt; was selected as the value for &lt;b&gt;{1}&lt;/b&gt;\", [renderedValue, quesJson.label])\n})()\n"}],"id":"34555f7e5e684f18b9ab9a355235a42f","name":"Default Value Acknowledgement ","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.default_value ? true : false;\n})()\n"},"secure":false},{"type":"InputPrompt","type":"InputPrompt","variable_id":"cdf8d6d062b04fb0a31a0329377d93d5","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Do you want to proceed with this value?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"b6d41404087b434494995fd2379eb75c","name":"Proceed with Default","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.default_value ? true : false;\n})()\n"}},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Do not proceed with default value","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"proceed_with_default="},"id":"e8939b766c35477c860406fc81004cb5","name":"Do not proceed with default value"},{"type":"Branch","type":"Branch","label":"Proceed with default value","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"proceed_with_default=true"},"id":"f09dbee03c9b49609e60f08fb390eb90","name":"Proceed with default value"}],"id":"917a3ae293f448f8a406bce99d2a8c35","goal_id":"primary"},{"type":"Decision","type":"Decision","name":"Show end state card?","branches":[{"type":"Branch","type":"Branch","label":"No","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"show_end_state_card="},"id":"6f90424026694caaa32f6978a4b35dea","name":"No"},{"type":"Branch","type":"Branch","label":"Yes","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"show_end_state_card=true"},"id":"2c87b2d855c34708a31c0add6d3eb1a4","name":"Yes"}],"id":"00faf9e5b17745769467f0b840eb461d","goal_id":"primary"},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Text Type","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var type = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type;\n    return type === 2 || type === 6 || type === 16;\n})()"},"id":"846b0cf5b1fc4542b07850bf205fd78a","name":"Text Type"},{"type":"Branch","type":"Branch","label":"Email Type","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 26;\n})()\n"},"id":"fbd5d29f15414c3885ddd3f089d01979","name":"Email Type"},{"type":"Branch","type":"Branch","label":"IP Address Type","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 28;\n})()\n"},"id":"35cfcd913caf41b2ad790e7e4368c551","name":"IP Address Type"},{"type":"Branch","type":"Branch","label":"URL Type","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 27;\n})()\n"},"id":"fbbd13f6845445709c5d76adc472359b","name":"URL Type"}],"id":"a8567ca93d13473b9b449de368e0d95e","goal_id":"primary"},{"type":"Decision","type":"Decision","name":"Messaging Channel","branches":[{"type":"Branch","type":"Branch","label":"Mobile/Web Client","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaContext.deviceType === \"mweb\";\n})()\n"},"id":"c912cc35d4064159bbc94751d95f1dcf","name":"Mobile/Web Client"},{"type":"Branch","type":"Branch","label":"Other Channels","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return !(vaContext.deviceType === \"mweb\");\n})()\n"},"id":"05e27a9a67224abfb1286ca4f848c447","name":"Other Channels"}],"id":"249e3dd6dca34f8e8b6e1c1c49f39c79","goal_id":"primary"},{"type":"ReferenceChoiceInputPrompt","type":"ReferenceChoiceInputPrompt","mode":"external","id":"f6169e71355247eea4f6c935d3607c50","name":"Question Choice Other Channels","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"b778ffbdfb28470b9ff46ece908874a6","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var question = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if (question.mandatory)\n        return false;\n    if (question.type === 4 &amp;&amp; question.value === '')\n        return true;\n    if (question.type === 3 &amp;&amp; question.value === '' &amp;&amp; question.options[0].value !== '')\n        return true;\n    return false;\n})();\n"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"expression_mode":"script","script":"(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var options = [];\n    var count = 0;\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n\n    var choices = quesJson.options;\n    if (choices.length &gt; 0 &amp;&amp; quesJson.mandatory) {\n        if (!choices[0].value)\n            choices.shift();\n    }\n    \n    count = choices.length;\n    vaVars.count = count;\n    options = choices.splice(index, limit);\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n    \n    return options;    \n})()","metadataScript":"","cardName":"","cardFields":[],"no_options_found_message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"No records found\", vaContext.getRequesterLang())"},"condition":{"type":"Condition","mode":"external_script","value":"(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var options = [];\n    var count = 0;\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n\n    var choices = quesJson.options;\n    if (choices.length &gt; 0 &amp;&amp; quesJson.mandatory) {\n        if (!choices[0].value)\n            choices.shift();\n    }\n    \n    count = choices.length;\n    vaVars.count = count;\n    options = choices.splice(index, limit);\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n    \n    return options;    \n})()"}},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Question Choice Prev","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.question_choice_other_channels.getValue() === \"prev\";\n})()\n"},"id":"6f9ca9992faf4fcf90c3b64529124d8d","name":"Question Choice Prev"},{"type":"Branch","type":"Branch","label":"Question Choice Next","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.question_choice_other_channels.getValue() === \"next\";\n})()\n"},"id":"22f2f14c57314628a1aa93e8ed901329","name":"Question Choice Next"},{"type":"Branch","type":"Branch","label":"Question Choice Chosen","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var valuePicked = vaInputs.question_choice_other_channels.getValue();\n    var condition = valuePicked !== 'next' &amp;&amp; valuePicked !== 'prev';\n    if (condition) {\n        vaVars.count = 0;\n        vaVars.index = 0;\n    }\n    return condition;\n})();"},"id":"1ea7b92f609c4f4fb861d364b8dd5afb","name":"Question Choice Chosen"}],"id":"ffcf293d73f24536be6af151a956f887","goal_id":"primary"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var c = index - limit;\n    if ( c &lt; 0 ) c = 0;\n    vaVars.index = c;\n})();","id":"48b027bbee8e424785d6f503592b322b","name":"Question Choice Prev Page","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var count = parseInt(vaVars.count);\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    if ( index + limit &gt; count )\n        vaVars.index = 0;\n    else\n        vaVars.index = index + limit;\n})();","id":"bf7f7f36e59a4876ad06ddf09f2d3d27","name":"Question Choice Next Page","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    if(vaInputs.question_choice_other_channels) {\n        vaInputs.question_choice = vaInputs.question_choice_other_channels;\n        vaInputs.question_choice_other_channels = \"\";\n    }\n})()","id":"4dc56e4b273e429aa19a29a895f1457c","name":"Set Question Choice Value","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","type":"Decision","name":"Messaging Channel","branches":[{"type":"Branch","type":"Branch","label":"Mobile/Web Client","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaContext.deviceType === \"mweb\";\n})()\n"},"id":"aa6c5683e1cc43cc9d9afa33400177a5","name":"Mobile/Web Client"},{"type":"Branch","type":"Branch","label":"Other Channels","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return !(vaContext.deviceType === \"mweb\");\n})()"},"id":"164e1b51ecc84d798b0202e9718ba01e","name":"Other Channels"}],"id":"9ee34002dcd14b69a2e5748bd7ca71b1","goal_id":"primary"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"19899025d0184f1384be882f62937e34","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter a value to search\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"88e25684627c420f99569cf4af6eacfc","name":"Search Reference","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.question_reference_other_channels;\n})()\n"},"formatType":"Text","validationScript":""},{"type":"ReferenceChoiceInputPrompt","type":"ReferenceChoiceInputPrompt","mode":"external","id":"fd6511338014471bafb849da8b04dd71","name":"Question Reference Other Channels","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"944a6e290a8344ed968250cf980a96ba","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"expression_mode":"script","script":"(function execute() {\n    var options = [];\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var count = 0;\n\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var variable = itemJson.variables[vaVars.qIndex];\n    var gr = new GlideRecordSecure(variable.reference);\n    var displayColumn = gr.getDisplayName();\n   \n    gr.addEncodedQuery(displayColumn + 'LIKE' + vaInputs.search_reference.getValue());\n    gr.addQuery(variable.qualifier);\n    if (variable.ref_ac_order_by)\n        gr.orderBy(variable.ref_ac_order_by);\n    else\n        gr.orderBy(displayColumn);\n    \n    gr.chooseWindow(index, index + limit, true);\n    gr.query();\n\n    var count = gr.getRowCount();\n    vaVars.count = count;\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n\n    if (count &gt; 0) {\n        vaVars.no_records_found = \"false\"\n        options.push({\n            'value' : 'search',\n            'label' : gs.getMessage('Search')\n        });\n    }\n    else\n        vaVars.no_records_found = \"true\";\n    \n    return options;    \n})()\n","metadataScript":"","cardName":"","cardFields":[],"no_options_found_message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"No records found\", vaContext.getRequesterLang())"},"condition":{"type":"Condition","mode":"external_script","value":"(function execute() {\n    var options = [];\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var count = 0;\n\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var variable = itemJson.variables[vaVars.qIndex];\n    var gr = new GlideRecordSecure(variable.reference);\n    var displayColumn = gr.getDisplayName();\n   \n    gr.addEncodedQuery(displayColumn + 'LIKE' + vaInputs.search_reference.getValue());\n    gr.addQuery(variable.qualifier);\n    if (variable.ref_ac_order_by)\n        gr.orderBy(variable.ref_ac_order_by);\n    else\n        gr.orderBy(displayColumn);\n    \n    gr.chooseWindow(index, index + limit, true);\n    gr.query();\n\n    var count = gr.getRowCount();\n    vaVars.count = count;\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n\n    if (count &gt; 0) {\n        vaVars.no_records_found = \"false\"\n        options.push({\n            'value' : 'search',\n            'label' : gs.getMessage('Search')\n        });\n    }\n    else\n        vaVars.no_records_found = \"true\";\n    \n    return options;    \n})()\n"}},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Question Reference Prev","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.question_reference_other_channels.getValue() === \"prev\";\n})()\n"},"id":"66153cae30ed446f9dc0f0a51fa9b6a7","name":"Question Reference Prev"},{"type":"Branch","type":"Branch","label":"Question Reference Next","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.question_reference_other_channels.getValue() === \"next\";\n})()\n"},"id":"3c90b03ec5404299b96d4803a7880e29","name":"Question Reference Next"},{"type":"Branch","type":"Branch","label":"Question Reference Chosen/Skipped","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var valuePicked = vaInputs.question_reference_other_channels.getValue();\n    var chosenCondition = valuePicked &amp;&amp; valuePicked !== 'next' &amp;&amp; valuePicked !== 'prev' &amp;&amp; valuePicked !== 'search';\n    var skippedCondition = vaVars.no_records_found === \"false\" &amp;&amp; !valuePicked;\n    if (chosenCondition || skippedCondition) {\n        vaVars.count = 0;\n        vaVars.index = 0;\n    }\n    \n    return chosenCondition || skippedCondition;\n})();"},"id":"28093ebbd5554161834717ce330ff4eb","name":"Question Reference Chosen/Skipped"},{"type":"Branch","type":"Branch","label":"Search Question Reference","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var valuePicked = vaInputs.question_reference_other_channels.getValue();\n    var condition = (vaVars.no_records_found === \"true\") || valuePicked === \"search\";\n    if (condition) {\n        vaVars.count = 0;\n        vaVars.index = 0;\n    }\n    return condition;\n})()\n"},"id":"9225ac49413f484782c78952a2f46b82","name":"Search Question Reference"}],"id":"0b8561a5edbc4abaaf9ca1ebcb4c811c","goal_id":"primary"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var c = index - limit;\n    if ( c &lt; 0 ) c = 0;\n    vaVars.index = c;\n})();","id":"edabfb9d5b304a459b201ce3e0760724","name":"Question Reference Prev Page","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var count = parseInt(vaVars.count);\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    if ( index + limit &gt; count )\n        vaVars.index = 0;\n    else\n        vaVars.index = index + limit;\n})();","id":"375aefa0e9114d718bc978244b6b86ea","name":"Question Reference Next Page","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    if(vaInputs.question_reference_other_channels) {\n        vaInputs.question_reference = vaInputs.question_reference_other_channels;\n        vaInputs.question_reference_other_channels = \"\";\n    }\n})()","id":"9c6bbf92e4a64ed98ce15340bd2f8a15","name":"Set Question Reference Value","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"End state card for Catalog Request","library_topic_id":"0b01391550d30110fa9b861f7d83d7f6","parameter-mappings":[{"parameter-name":"record_id","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.record_id}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}},{"parameter-name":"record_table","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.record_table}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[],"id":"d52205f9e30b4615896aa29e1ce3ff1b","name":"End state card","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"d52205f9e30b4615896aa29e1ce3ff1b","target_node_id":"51be302cd5274ac0a00e27aa3d4a8fec","id":"0b8d9cffb24246ceb616f146c1d682d9"},{"type":"Edge","source_node_id":"044e1ce1c08941c0b118e88e1fffdad3","target_node_id":"fe34c0add58848ad9793da50eca42e33","branch_id":"5f5a1222810c45bbb6f4fcd6c10678c2","id":"e5a7ee30bd194549b3f93ef48b19195b","name":"5f5a1222810c45bbb6f4fcd6c10678c2"},{"type":"Edge","source_node_id":"56486e79670a4a58b1ad74c512ac8614","target_node_id":"00faf9e5b17745769467f0b840eb461d","id":"a6b425c41da44fe0947c6b80d4cfe2fe"},{"type":"Edge","source_node_id":"8829f10d9ccb4d5c9001d4aae75eb484","target_node_id":"b55bad4e16584b4bb58e831478fa1240","id":"f8eb4312699e48df8f18ad5475a0f533"},{"type":"Edge","source_node_id":"44656362c3fb478b9873ab25b87680fc","target_node_id":"b63b61c9c83b46958de81eb056a6a082","id":"3876d0cd32c44e1cb4929bafa6f459d4"},{"type":"Edge","source_node_id":"07625e3aefb04160b9e511077decd883","target_node_id":"f5f724982a8d46ba8d1297fa5afec71a","branch_id":"b386341b3fff4b8fbfc41385ec0c9ffb","id":"f97187f2e81e4eb2917643e002e570d2","name":"b386341b3fff4b8fbfc41385ec0c9ffb"},{"type":"Edge","source_node_id":"e93430b8a37246369a0fc4024c59339d","target_node_id":"5b22d4293e194df39a983c82efeb0d85","branch_id":"dce5a068b3634f4f807457cedb0c084c","id":"6502c76ed4574e5f9397e2608e157a49","name":"dce5a068b3634f4f807457cedb0c084c"},{"type":"Edge","source_node_id":"dd784b920a0142da805e3a5e494953e8","target_node_id":"283f4539bc094341bfe3d6437ab29210","id":"1cda5d5494494b7b90303f1476aeb916"},{"type":"Edge","source_node_id":"8276ac1a49834476b8c86f16051ff7d8","target_node_id":"672fce7342e944dbbb950e7e05ee33da","id":"092fc560356d4ab3a687611fae385d44"},{"type":"Edge","source_node_id":"672fce7342e944dbbb950e7e05ee33da","target_node_id":"da5a9eb8af2d45b1a5dd750c9c5470de","id":"58087b5cea234ca7bf8d9ab6425e731e"},{"type":"Edge","source_node_id":"da5a9eb8af2d45b1a5dd750c9c5470de","target_node_id":"51be302cd5274ac0a00e27aa3d4a8fec","branch_id":"bee990e039864ff89f1758b7d25165e5","id":"b95d9d3ba4ef429097af28119e3d2587","name":"bee990e039864ff89f1758b7d25165e5"},{"type":"Edge","source_node_id":"da5a9eb8af2d45b1a5dd750c9c5470de","target_node_id":"ebe019552a99491cb32eeef54f748530","branch_id":"3f1532760fd848729406134e310a0e89","id":"e1ed6feb0afa4e2cb21af9d08e2efa09","name":"3f1532760fd848729406134e310a0e89"},{"type":"Edge","source_node_id":"ebe019552a99491cb32eeef54f748530","target_node_id":"7cafd41087d6473bad367721be31459f","branch_id":"5d6efe5136f34571b4977f07ff115dbc","id":"43e246e7c2cc44e1be5a97d5a9b76288","name":"5d6efe5136f34571b4977f07ff115dbc"},{"type":"Edge","source_node_id":"7cafd41087d6473bad367721be31459f","target_node_id":"bd097b79bae14762856484305429756e","branch_id":"bcf929b8f3a2455e8b04865c0e338220","id":"2167c45a812644729b40906c2594f1de","name":"bcf929b8f3a2455e8b04865c0e338220"},{"type":"Edge","source_node_id":"7cafd41087d6473bad367721be31459f","target_node_id":"04f210cee60d45c6bc89e1e3b9ff2324","branch_id":"03f90dd810f1431dade9424f395ca331","id":"d2ee23a6870e4dfcbe5c0c9da84823c3","name":"03f90dd810f1431dade9424f395ca331"},{"type":"Edge","source_node_id":"04f210cee60d45c6bc89e1e3b9ff2324","target_node_id":"bd097b79bae14762856484305429756e","id":"42319152dbb646dc8b09ff562581eb6b"},{"type":"Edge","source_node_id":"e93430b8a37246369a0fc4024c59339d","target_node_id":"86b4b6f72ba14424bb039f7ef0b75636","branch_id":"88c6c8428cdf4bf0a1cf3a0c78bbfbed","id":"1050941439a14d158db3b3f492256257","name":"88c6c8428cdf4bf0a1cf3a0c78bbfbed"},{"type":"Edge","source_node_id":"86b4b6f72ba14424bb039f7ef0b75636","target_node_id":"6ac1e6fb6c1f4384888390e0ce949990","id":"1f0ebbc39d164cdba044814dbea888db"},{"type":"Edge","source_node_id":"6ac1e6fb6c1f4384888390e0ce949990","target_node_id":"51be302cd5274ac0a00e27aa3d4a8fec","branch_id":"f0e0780dd86847ff8e767eb28a6bf4b7","id":"b48e7c5475734c3c8d419da6a433e2b3","name":"f0e0780dd86847ff8e767eb28a6bf4b7"},{"type":"Edge","source_node_id":"5b22d4293e194df39a983c82efeb0d85","target_node_id":"68001e11b17d4fbd8efe2f9a14396448","id":"13a051a17ae74197980002178441d6b4"},{"type":"Edge","source_node_id":"68001e11b17d4fbd8efe2f9a14396448","target_node_id":"51be302cd5274ac0a00e27aa3d4a8fec","branch_id":"f3da69cc95e84d66b114ef45a16e38cb","id":"1098e5286f9845dbb62d394afd2589b8","name":"f3da69cc95e84d66b114ef45a16e38cb"},{"type":"Edge","source_node_id":"044e1ce1c08941c0b118e88e1fffdad3","target_node_id":"e2daf38ea63045f6a020f0aafd5fba95","branch_id":"b736d2dbd8cc46a5a7dd268ac8d33eeb","id":"633b30209c7c477988b3c685976c9484","name":"b736d2dbd8cc46a5a7dd268ac8d33eeb"},{"type":"Edge","source_node_id":"e2daf38ea63045f6a020f0aafd5fba95","target_node_id":"8571b1f84e414e41914e01502f71238e","id":"7f25a333d0904995a65255c6b1d212e3"},{"type":"Edge","source_node_id":"8571b1f84e414e41914e01502f71238e","target_node_id":"f989a9ad87b94635ba8e11bffd25db3e","id":"f1d93a2a57a649048bf18d1b857b1455"},{"type":"Edge","source_node_id":"f989a9ad87b94635ba8e11bffd25db3e","target_node_id":"fc2ba28a1a4e4bd388f04f533bf8b9b8","branch_id":"b92ac370da674928b2b94583a4c96ae5","id":"554516667d684b478778a3752bd35883","name":"b92ac370da674928b2b94583a4c96ae5"},{"type":"Edge","source_node_id":"044e1ce1c08941c0b118e88e1fffdad3","target_node_id":"8824db40c313417ab7a99c4d59bad6d7","branch_id":"35b19300629446cc94f294cf07bbaa10","id":"ba1d9972d11246c9bbfe75a19caaa278","name":"35b19300629446cc94f294cf07bbaa10"},{"type":"Edge","source_node_id":"ebe019552a99491cb32eeef54f748530","target_node_id":"da1b34f6779a49c799e1dd03cd78e8e7","branch_id":"e7aa270a7a314b879147b37522ddf6bb","id":"73eb7fe4dc83400783402dd11b3af030","name":"e7aa270a7a314b879147b37522ddf6bb"},{"type":"Edge","source_node_id":"da1b34f6779a49c799e1dd03cd78e8e7","target_node_id":"51be302cd5274ac0a00e27aa3d4a8fec","id":"683c2d70372a4aec802fde3240c3a256"},{"type":"Edge","source_node_id":"044e1ce1c08941c0b118e88e1fffdad3","target_node_id":"6ea3e29bd18b45fbad79026d8a0f99e1","branch_id":"58fa97ada8df43e4b91a64a6941baf45","id":"f622fb82719b47759b4fac9be3ce85ca","name":"58fa97ada8df43e4b91a64a6941baf45"},{"type":"Edge","source_node_id":"6ea3e29bd18b45fbad79026d8a0f99e1","target_node_id":"8571b1f84e414e41914e01502f71238e","id":"fd7f196b33614d7dad74729fc5c8503a"},{"type":"Edge","source_node_id":"044e1ce1c08941c0b118e88e1fffdad3","target_node_id":"370ad3fb273a453e926fe6755ae2a038","branch_id":"3dc556e119444880b62e5061b1ee0b4b","id":"f877d342f3794f0c911012c1afe1a805","name":"3dc556e119444880b62e5061b1ee0b4b"},{"type":"Edge","source_node_id":"370ad3fb273a453e926fe6755ae2a038","target_node_id":"8571b1f84e414e41914e01502f71238e","id":"9717bef8115c426bb1eded17ee6682ac"},{"type":"Edge","source_node_id":"044e1ce1c08941c0b118e88e1fffdad3","target_node_id":"8ec688331ad149858a71a2dac931aaca","branch_id":"5f1862f56af24ffc934f41099ffb8466","id":"3bb8715d910441919549c2918b00a430","name":"5f1862f56af24ffc934f41099ffb8466"},{"type":"Edge","source_node_id":"8ec688331ad149858a71a2dac931aaca","target_node_id":"8571b1f84e414e41914e01502f71238e","id":"74e8921e7eb64ab08e5af5af9edea9f4"},{"type":"Edge","source_node_id":"fe34c0add58848ad9793da50eca42e33","target_node_id":"183ed373d35044eab535dd135ff292f2","id":"071d5b49a13c45b6acf58802739f0f13"},{"type":"Edge","source_node_id":"183ed373d35044eab535dd135ff292f2","target_node_id":"07625e3aefb04160b9e511077decd883","id":"81a466203d154bcd8164b5ac935268fa"},{"type":"Edge","source_node_id":"f5f724982a8d46ba8d1297fa5afec71a","target_node_id":"183ed373d35044eab535dd135ff292f2","id":"123dd9d82e8a4b09868cb8704a1a9e41"},{"type":"Edge","source_node_id":"07625e3aefb04160b9e511077decd883","target_node_id":"fe34c0add58848ad9793da50eca42e33","branch_id":"a7096bd1dabd40ed867a13e54db78f10","id":"d4cbf9e148e942f0b50091ebe9deb8ae","name":"a7096bd1dabd40ed867a13e54db78f10"},{"type":"Edge","source_node_id":"07625e3aefb04160b9e511077decd883","target_node_id":"b63dd1929f4c4a0b8c5a33425f5ebd76","branch_id":"a261d65640854cfc8ebaea6045c545f1","id":"1c5e0023bf5e4e7583f25a38274d39ba","name":"a261d65640854cfc8ebaea6045c545f1"},{"type":"Edge","source_node_id":"b63dd1929f4c4a0b8c5a33425f5ebd76","target_node_id":"9262b503ad7b46178def86c2615bfae9","id":"4c77c17bcfe9409b822e50a13441091b"},{"type":"Edge","source_node_id":"9262b503ad7b46178def86c2615bfae9","target_node_id":"8571b1f84e414e41914e01502f71238e","branch_id":"64633c368dc947529f54116881584a86","id":"c4675c4807624504978f22f186886a8a","name":"64633c368dc947529f54116881584a86"},{"type":"Edge","source_node_id":"07625e3aefb04160b9e511077decd883","target_node_id":"df4cfc3f53434f19a6fb3acbdb083a83","branch_id":"576b01242c48445eac0dc6551bb7584d","id":"f721a3720b5647c6b0f4d9edbee99b22","name":"576b01242c48445eac0dc6551bb7584d"},{"type":"Edge","source_node_id":"df4cfc3f53434f19a6fb3acbdb083a83","target_node_id":"183ed373d35044eab535dd135ff292f2","id":"482ac681d03d4563819d8352c4c0ada1"},{"type":"Edge","source_node_id":"9262b503ad7b46178def86c2615bfae9","target_node_id":"5d45aa11131b45f09dcd7416f592aeff","branch_id":"eb52930226e64bdb8de5e4f635e9b1ae","id":"3241a92c65954e798c01d11f3b90649c","name":"eb52930226e64bdb8de5e4f635e9b1ae"},{"type":"Edge","source_node_id":"5d45aa11131b45f09dcd7416f592aeff","target_node_id":"05255bdbac644088b5659eec17ce50c1","id":"55f7df34988f4af1bd3854aedff8d512"},{"type":"Edge","source_node_id":"05255bdbac644088b5659eec17ce50c1","target_node_id":"fe34c0add58848ad9793da50eca42e33","branch_id":"c206509d69ec4bc19053a3cdf53951e8","id":"280ccc45ad864a66a31b5a4a603ad6d5","name":"c206509d69ec4bc19053a3cdf53951e8"},{"type":"Edge","source_node_id":"05255bdbac644088b5659eec17ce50c1","target_node_id":"51be302cd5274ac0a00e27aa3d4a8fec","branch_id":"8a277caf2e91480eaa1e5ab79d1bd3ae","id":"3b0b259b804b4a0facfba76a3cd8d1f0","name":"8a277caf2e91480eaa1e5ab79d1bd3ae"},{"type":"Edge","source_node_id":"f989a9ad87b94635ba8e11bffd25db3e","target_node_id":"56f07b4d847e420db66e8d81361ddd10","branch_id":"341be07fa29e42e5b746dafbe092a638","id":"3d1f73d03a714b07a45641ffb0046df0","name":"341be07fa29e42e5b746dafbe092a638"},{"type":"Edge","source_node_id":"56f07b4d847e420db66e8d81361ddd10","target_node_id":"bd097b79bae14762856484305429756e","branch_id":"7277dec8dc40448b9d5b6a59cc891a87","id":"7e973c3d2f974cfd891bb13014f208fa","name":"7277dec8dc40448b9d5b6a59cc891a87"},{"type":"Edge","source_node_id":"56f07b4d847e420db66e8d81361ddd10","target_node_id":"4f7ac9b4ddbe4b2b9ea7414c9fcb685b","branch_id":"aa5bbaf8919e46b18869727bb06812c5","id":"fe81858ce4a743cda7b94c9f873ecddf","name":"aa5bbaf8919e46b18869727bb06812c5"},{"type":"Edge","source_node_id":"4f7ac9b4ddbe4b2b9ea7414c9fcb685b","target_node_id":"bd097b79bae14762856484305429756e","id":"4cac6731064a49f88bafac99cdee2ac3"},{"type":"Edge","source_node_id":"044e1ce1c08941c0b118e88e1fffdad3","target_node_id":"8571b1f84e414e41914e01502f71238e","branch_id":"e6290d9552294a91816eb504d46ecefe","id":"844d4d45449345da88101a803a04f94a","name":"e6290d9552294a91816eb504d46ecefe"},{"type":"Edge","source_node_id":"044e1ce1c08941c0b118e88e1fffdad3","target_node_id":"8d93d8843de844d48aa28d704be88a24","branch_id":"420714f6774442bcbccbc08b76089d80","id":"bbe84b8e390844ea9820f409235252d1","name":"420714f6774442bcbccbc08b76089d80"},{"type":"Edge","source_node_id":"8d93d8843de844d48aa28d704be88a24","target_node_id":"8571b1f84e414e41914e01502f71238e","id":"3f76d3427d8e4ec8b8887f9464fdbc4e"},{"type":"Edge","source_node_id":"044e1ce1c08941c0b118e88e1fffdad3","target_node_id":"ae30428de0854b879e2463db21a8a9a3","branch_id":"47db15035c2a4f9ea57d07673ae465c3","id":"1f693a48e5624121b84ab494711f611b","name":"47db15035c2a4f9ea57d07673ae465c3"},{"type":"Edge","source_node_id":"ae30428de0854b879e2463db21a8a9a3","target_node_id":"8571b1f84e414e41914e01502f71238e","id":"fc9e09c16153497aaacdead920b8a65f"},{"type":"Edge","source_node_id":"044e1ce1c08941c0b118e88e1fffdad3","target_node_id":"33d38415583140099fe1b76b257da175","branch_id":"f3c50c1125f4495bb2cde11dc7d0b7a0","id":"0687abb9a8674508b3973f6929d0141c","name":"f3c50c1125f4495bb2cde11dc7d0b7a0"},{"type":"Edge","source_node_id":"33d38415583140099fe1b76b257da175","target_node_id":"8571b1f84e414e41914e01502f71238e","id":"1cc68a75056344e1adad57f5bb83900b"},{"type":"Edge","source_node_id":"bd097b79bae14762856484305429756e","target_node_id":"a3a9e1d6acc24cfab94bad3b1646ba39","branch_id":"072896f1e640405d89e69ae1337730a2","id":"bd94b27e3011494c9869a192f8c58e0b","name":"072896f1e640405d89e69ae1337730a2"},{"type":"Edge","source_node_id":"a3a9e1d6acc24cfab94bad3b1646ba39","target_node_id":"e93430b8a37246369a0fc4024c59339d","branch_id":"4b7e0f3d1eeb48d8a24a66c719bdf8b1","id":"8d7e573b9c8546c09739bd132f8928c7","name":"4b7e0f3d1eeb48d8a24a66c719bdf8b1"},{"type":"Edge","source_node_id":"a3a9e1d6acc24cfab94bad3b1646ba39","target_node_id":"bab8fe0ff1b0424aaaffe2d3e1357205","branch_id":"2b5ff25672cd4e1d9a7c216d48a5c455","id":"33b32066261140cfbd1595a5eb6b7caa","name":"2b5ff25672cd4e1d9a7c216d48a5c455"},{"type":"Edge","source_node_id":"bab8fe0ff1b0424aaaffe2d3e1357205","target_node_id":"69a42a60bce441aabd4e1425fb6ff001","id":"f92c3f6ead33462b9bb4524f4848a416"},{"type":"Edge","source_node_id":"69a42a60bce441aabd4e1425fb6ff001","target_node_id":"e93430b8a37246369a0fc4024c59339d","branch_id":"c3d12606ae884979bf70a4535250cf91","id":"b24ff75d563649a2bb951f058e023ba6","name":"c3d12606ae884979bf70a4535250cf91"},{"type":"Edge","source_node_id":"69a42a60bce441aabd4e1425fb6ff001","target_node_id":"e38cf83bb0f1413293b5a3285df60e95","branch_id":"1bf37241ce5743e3bfb85e55d7bdc3cf","id":"faffb0666e0a4bdb80dec24953b5f2f8","name":"1bf37241ce5743e3bfb85e55d7bdc3cf"},{"type":"Edge","source_node_id":"b63b61c9c83b46958de81eb056a6a082","target_node_id":"07dc3cad038f44008d29ce413d2bb540","id":"68b3849711c54db18114bf248e629f73"},{"type":"Edge","source_node_id":"07dc3cad038f44008d29ce413d2bb540","target_node_id":"e38cf83bb0f1413293b5a3285df60e95","branch_id":"67710e4ed35840c6ba5c24f9a69e74bf","id":"b9ae3d30bad441ad9c972770c2aae131","name":"67710e4ed35840c6ba5c24f9a69e74bf"},{"type":"Edge","source_node_id":"07dc3cad038f44008d29ce413d2bb540","target_node_id":"e93430b8a37246369a0fc4024c59339d","branch_id":"7fe1b7207c7a417cad6ccd1b6cdd8888","id":"4100071438a24d3c91de728e352cb8a0","name":"7fe1b7207c7a417cad6ccd1b6cdd8888"},{"type":"Edge","source_node_id":"044e1ce1c08941c0b118e88e1fffdad3","target_node_id":"8829f10d9ccb4d5c9001d4aae75eb484","branch_id":"130db8998717472089f4fabd6caab973","id":"1956537de17242f9add0c86ac81e58dc","name":"130db8998717472089f4fabd6caab973"},{"type":"Edge","source_node_id":"b55bad4e16584b4bb58e831478fa1240","target_node_id":"8521cdbae0d24e6c83e02fc046a56379","id":"d3506e52467e43a48ccd814886e67409"},{"type":"Edge","source_node_id":"8521cdbae0d24e6c83e02fc046a56379","target_node_id":"56f07b4d847e420db66e8d81361ddd10","branch_id":"67c3516b5b6541179aa9c99f4f1ab023","id":"bdea2e36c0c740af83f049d3656b3748","name":"67c3516b5b6541179aa9c99f4f1ab023"},{"type":"Edge","source_node_id":"8521cdbae0d24e6c83e02fc046a56379","target_node_id":"f801dd6a055f41acb70e498238be8a12","branch_id":"3aeb930f93c14f3a93fdeafb9148597c","id":"fea7c1934b4b4a6e81bdd02745b096db","name":"3aeb930f93c14f3a93fdeafb9148597c"},{"type":"Edge","source_node_id":"f801dd6a055f41acb70e498238be8a12","target_node_id":"8829f10d9ccb4d5c9001d4aae75eb484","id":"a651102fc6af4087b6037c08a274c92c"},{"type":"Edge","source_node_id":"8824db40c313417ab7a99c4d59bad6d7","target_node_id":"0c2e9fcdbe32409fae7127893740c5b6","id":"817adff8105842deae6a0dd8e8f8be1b"},{"type":"Edge","source_node_id":"0c2e9fcdbe32409fae7127893740c5b6","target_node_id":"8571b1f84e414e41914e01502f71238e","branch_id":"dabe73aa45aa4c1faea64efdff3caac3","id":"5f22d1e9370b40e3b9f6aba906332478","name":"dabe73aa45aa4c1faea64efdff3caac3"},{"type":"Edge","source_node_id":"0c2e9fcdbe32409fae7127893740c5b6","target_node_id":"5d39b4c7f6794899b2516248682e5d70","branch_id":"64a22590e68b42a8a269c677bbe39026","id":"b9ae2d2adeec46df972ff09c8394219f","name":"64a22590e68b42a8a269c677bbe39026"},{"type":"Edge","source_node_id":"5d39b4c7f6794899b2516248682e5d70","target_node_id":"8571b1f84e414e41914e01502f71238e","branch_id":"5a02aa20c58d4128b48ac5330b7efe76","id":"1604135386f843088d888cde5691a8ae","name":"5a02aa20c58d4128b48ac5330b7efe76"},{"type":"Edge","source_node_id":"5d39b4c7f6794899b2516248682e5d70","target_node_id":"0a188a759f604c848f57f06c768ee997","branch_id":"fbc2a483bb0945e39b8c813cd8252f28","id":"5751b24582de49179051939ee18654ab","name":"fbc2a483bb0945e39b8c813cd8252f28"},{"type":"Edge","source_node_id":"0a188a759f604c848f57f06c768ee997","target_node_id":"56d0aab82fe04303b99d36f7cce63972","id":"26f262c7106e4629b125c408b30a1db5"},{"type":"Edge","source_node_id":"56d0aab82fe04303b99d36f7cce63972","target_node_id":"8571b1f84e414e41914e01502f71238e","branch_id":"222d6fb4dd034a7da7cc37b80e627d00","id":"06ca3189b8514ea4844e7ec3f1509b1f","name":"222d6fb4dd034a7da7cc37b80e627d00"},{"type":"Edge","source_node_id":"56d0aab82fe04303b99d36f7cce63972","target_node_id":"f77f196c8c95407ab2759d0752c46342","branch_id":"22e25a428bc647969733623b759c10f9","id":"002006dd0ab04851b3d11374b5d54bce","name":"22e25a428bc647969733623b759c10f9"},{"type":"Edge","source_node_id":"f77f196c8c95407ab2759d0752c46342","target_node_id":"e6d5f126883048b5a8689e65d7288bbb","id":"a7a00fad85d84bdeb5938fa3c52f223f"},{"type":"Edge","source_node_id":"e6d5f126883048b5a8689e65d7288bbb","target_node_id":"8571b1f84e414e41914e01502f71238e","branch_id":"255d7b905b9a4417996075f4ae095ace","id":"7bda493a9f794ef494181f9eae0fcf03","name":"255d7b905b9a4417996075f4ae095ace"},{"type":"Edge","source_node_id":"e6d5f126883048b5a8689e65d7288bbb","target_node_id":"0ddad87a60304350b756711a4a8cf6e1","branch_id":"ea83f033f5fe4d3b9121490fbf0dc3b5","id":"89018bc19a584976a307ef509ec6a030","name":"ea83f033f5fe4d3b9121490fbf0dc3b5"},{"type":"Edge","source_node_id":"d041488d76d5403c9d07120379efe948","target_node_id":"51be302cd5274ac0a00e27aa3d4a8fec","branch_id":"15b16e71798e46b782033f176d864d6a","id":"20585b8a62e2417295c358f8427bae24","name":"15b16e71798e46b782033f176d864d6a"},{"type":"Edge","source_node_id":"d041488d76d5403c9d07120379efe948","target_node_id":"8571b1f84e414e41914e01502f71238e","branch_id":"545bd8c00c6847a5968e4e23a5ab1ddb","id":"5969da9a3c8048f7828eaf6145c824c9","name":"545bd8c00c6847a5968e4e23a5ab1ddb"},{"type":"Edge","source_node_id":"0ddad87a60304350b756711a4a8cf6e1","target_node_id":"1ab59bcfc4454c868b23947965fb7839","id":"778c7f333f3a4c1385bad41057867044"},{"type":"Edge","source_node_id":"1ab59bcfc4454c868b23947965fb7839","target_node_id":"d041488d76d5403c9d07120379efe948","id":"d81b3bf5c53c470fb16f9ad2021813de"},{"type":"Edge","source_node_id":"283f4539bc094341bfe3d6437ab29210","target_node_id":"aa99b4d4130f4efda7f9942686855ab5","id":"2887f7188101482e860062bbac7f1615"},{"type":"Edge","source_node_id":"aa99b4d4130f4efda7f9942686855ab5","target_node_id":"8276ac1a49834476b8c86f16051ff7d8","branch_id":"d1b83d4f84f045e490cfd72e106527ae","id":"694f78bbe3164287b633b6ddb8349108","name":"d1b83d4f84f045e490cfd72e106527ae"},{"type":"Edge","source_node_id":"aa99b4d4130f4efda7f9942686855ab5","target_node_id":"bd097b79bae14762856484305429756e","branch_id":"708e0daae52e4fa0a48e45ea726eb250","id":"86978926150b47ec98dc72557fc719f1","name":"708e0daae52e4fa0a48e45ea726eb250"},{"type":"Edge","source_node_id":"68001e11b17d4fbd8efe2f9a14396448","target_node_id":"a63a438b92184b43b5646802d23c8610","branch_id":"9618b1ea8ba842b1acd409a01729b462","id":"27017308604f444f82800ac8721045c3","name":"9618b1ea8ba842b1acd409a01729b462"},{"type":"Edge","source_node_id":"a63a438b92184b43b5646802d23c8610","target_node_id":"b4b0d556c5ec4600acbdaf5f1f6ba2d7","branch_id":"a5ebae6138484483bd9a1b6016041173","id":"a83366b1df264e948e7095d830aac009","name":"a5ebae6138484483bd9a1b6016041173"},{"type":"Edge","source_node_id":"a63a438b92184b43b5646802d23c8610","target_node_id":"f5f71b7b0d4142a8b78c8af9affd12a5","branch_id":"ece45bf8da48426080049c4cefb4424c","id":"bf1aad55e51540f8a422345e3e8132b2","name":"ece45bf8da48426080049c4cefb4424c"},{"type":"Edge","source_node_id":"6ac1e6fb6c1f4384888390e0ce949990","target_node_id":"713e14f86ad140a7b8fe3338fcb1b48d","branch_id":"d37c853764704f2998bd4602e97be89a","id":"8a176f73f56842cf8d450ce012bd46a9","name":"d37c853764704f2998bd4602e97be89a"},{"type":"Edge","source_node_id":"713e14f86ad140a7b8fe3338fcb1b48d","target_node_id":"56486e79670a4a58b1ad74c512ac8614","branch_id":"1ad3b7c4c1e14352aa39fb091811837e","id":"16768e0f0dea4959ae3c0ef622c207d3","name":"1ad3b7c4c1e14352aa39fb091811837e"},{"type":"Edge","source_node_id":"713e14f86ad140a7b8fe3338fcb1b48d","target_node_id":"f5f71b7b0d4142a8b78c8af9affd12a5","branch_id":"170be5e33cdc4692a59491e11e37cf43","id":"ad992d192b974b438e71ba45493706d4","name":"170be5e33cdc4692a59491e11e37cf43"},{"type":"Edge","source_node_id":"f5f71b7b0d4142a8b78c8af9affd12a5","target_node_id":"48b421f110d146968f8972df5af8201e","id":"041f02477a3d4be0b3587ceb7fe0df46"},{"type":"Edge","source_node_id":"48b421f110d146968f8972df5af8201e","target_node_id":"51be302cd5274ac0a00e27aa3d4a8fec","id":"f4465629436d4ac29dddc618dfe1bbd2"},{"type":"Edge","source_node_id":"e38cf83bb0f1413293b5a3285df60e95","target_node_id":"6d6cda5633e548ed9f132b1c888799e8","id":"902318fcfa904f1b9dc75e02c768ad4d"},{"type":"Edge","source_node_id":"6d6cda5633e548ed9f132b1c888799e8","target_node_id":"44656362c3fb478b9873ab25b87680fc","branch_id":"7502841e1312415ca74a194ae0fd5f05","id":"ef9cb2fe472a42af88a69446da1c0130","name":"7502841e1312415ca74a194ae0fd5f05"},{"type":"Edge","source_node_id":"6d6cda5633e548ed9f132b1c888799e8","target_node_id":"e93430b8a37246369a0fc4024c59339d","branch_id":"b7fc0a22a9a74080b2044483c6a4276d","id":"f1e3769d77d14555aaa2a0b1202ef1bf","name":"b7fc0a22a9a74080b2044483c6a4276d"},{"type":"Edge","source_node_id":"044e1ce1c08941c0b118e88e1fffdad3","target_node_id":"af634ddaa6aa449883315424de2dca9e","branch_id":"36a17b42219b4c5f921ee1ff51509c64","id":"e6f40c5d601d4e53b06dc808658e2259","name":"36a17b42219b4c5f921ee1ff51509c64"},{"type":"Edge","source_node_id":"af634ddaa6aa449883315424de2dca9e","target_node_id":"8571b1f84e414e41914e01502f71238e","id":"cc199ab7d990413e9d390db801707a31"},{"type":"Edge","source_node_id":"bd097b79bae14762856484305429756e","target_node_id":"34555f7e5e684f18b9ab9a355235a42f","branch_id":"d84b94e2e3ce41e4909e35ac9ea43a13","id":"85aa670fea5c462a95746b1ecb1d1c0b","name":"d84b94e2e3ce41e4909e35ac9ea43a13"},{"type":"Edge","source_node_id":"34555f7e5e684f18b9ab9a355235a42f","target_node_id":"b6d41404087b434494995fd2379eb75c","id":"38ee18d2a17349e188e3b2a40a8069cb"},{"type":"Edge","source_node_id":"b6d41404087b434494995fd2379eb75c","target_node_id":"917a3ae293f448f8a406bce99d2a8c35","id":"0e7d0750362747b2a613de181f7b1ccf"},{"type":"Edge","source_node_id":"917a3ae293f448f8a406bce99d2a8c35","target_node_id":"044e1ce1c08941c0b118e88e1fffdad3","branch_id":"e8939b766c35477c860406fc81004cb5","id":"191ccf63bc944b488b3e6388195e2bfe","name":"e8939b766c35477c860406fc81004cb5"},{"type":"Edge","source_node_id":"917a3ae293f448f8a406bce99d2a8c35","target_node_id":"8571b1f84e414e41914e01502f71238e","branch_id":"f09dbee03c9b49609e60f08fb390eb90","id":"f13536e1ccba4114a1b340a47c9087b2","name":"f09dbee03c9b49609e60f08fb390eb90"},{"type":"Edge","source_node_id":"b4b0d556c5ec4600acbdaf5f1f6ba2d7","target_node_id":"00faf9e5b17745769467f0b840eb461d","id":"3a941f2c45b44df08ec634321263add6"},{"type":"Edge","source_node_id":"00faf9e5b17745769467f0b840eb461d","target_node_id":"51be302cd5274ac0a00e27aa3d4a8fec","branch_id":"6f90424026694caaa32f6978a4b35dea","id":"2ce40f6791b84f40afd4babf07f383aa","name":"6f90424026694caaa32f6978a4b35dea"},{"type":"Edge","source_node_id":"fc2ba28a1a4e4bd388f04f533bf8b9b8","target_node_id":"a8567ca93d13473b9b449de368e0d95e","id":"63bb6715e2284e40867fc95b3ac10b0b"},{"type":"Edge","source_node_id":"a8567ca93d13473b9b449de368e0d95e","target_node_id":"8824db40c313417ab7a99c4d59bad6d7","branch_id":"846b0cf5b1fc4542b07850bf205fd78a","id":"60ad0bd0c9bf458d8292fec9a284906c","name":"846b0cf5b1fc4542b07850bf205fd78a"},{"type":"Edge","source_node_id":"a8567ca93d13473b9b449de368e0d95e","target_node_id":"8d93d8843de844d48aa28d704be88a24","branch_id":"fbd5d29f15414c3885ddd3f089d01979","id":"d71e5914b70f4be1b37b4eaa3c67c52c","name":"fbd5d29f15414c3885ddd3f089d01979"},{"type":"Edge","source_node_id":"a8567ca93d13473b9b449de368e0d95e","target_node_id":"ae30428de0854b879e2463db21a8a9a3","branch_id":"35cfcd913caf41b2ad790e7e4368c551","id":"69a2400c7a654909bd49ab89f51fe858","name":"35cfcd913caf41b2ad790e7e4368c551"},{"type":"Edge","source_node_id":"a8567ca93d13473b9b449de368e0d95e","target_node_id":"33d38415583140099fe1b76b257da175","branch_id":"fbbd13f6845445709c5d76adc472359b","id":"470f1bb10f55460fbac43afece73a4d9","name":"fbbd13f6845445709c5d76adc472359b"},{"type":"Edge","source_node_id":"044e1ce1c08941c0b118e88e1fffdad3","target_node_id":"249e3dd6dca34f8e8b6e1c1c49f39c79","branch_id":"ec668d6b91da42d593028490f2ebc455","id":"2cbe6c58793449928effeb0b7380a636","name":"ec668d6b91da42d593028490f2ebc455"},{"type":"Edge","source_node_id":"249e3dd6dca34f8e8b6e1c1c49f39c79","target_node_id":"16235ad80af844cfb63edd1554078562","branch_id":"c912cc35d4064159bbc94751d95f1dcf","id":"dbbee3a50bd34e729593a5f6c3d8015f","name":"c912cc35d4064159bbc94751d95f1dcf"},{"type":"Edge","source_node_id":"249e3dd6dca34f8e8b6e1c1c49f39c79","target_node_id":"f6169e71355247eea4f6c935d3607c50","branch_id":"05e27a9a67224abfb1286ca4f848c447","id":"188ca7e4a4134c24972839c57ba91d38","name":"05e27a9a67224abfb1286ca4f848c447"},{"type":"Edge","source_node_id":"f6169e71355247eea4f6c935d3607c50","target_node_id":"ffcf293d73f24536be6af151a956f887","id":"eaf74cbee0da48f5a32582eeab9013d6"},{"type":"Edge","source_node_id":"ffcf293d73f24536be6af151a956f887","target_node_id":"48b027bbee8e424785d6f503592b322b","branch_id":"6f9ca9992faf4fcf90c3b64529124d8d","id":"5a02c32279c84c0091cb0c1cede2d698","name":"6f9ca9992faf4fcf90c3b64529124d8d"},{"type":"Edge","source_node_id":"48b027bbee8e424785d6f503592b322b","target_node_id":"f6169e71355247eea4f6c935d3607c50","id":"d671b7715df34049a30dbdd3577c9fea"},{"type":"Edge","source_node_id":"ffcf293d73f24536be6af151a956f887","target_node_id":"bf7f7f36e59a4876ad06ddf09f2d3d27","branch_id":"22f2f14c57314628a1aa93e8ed901329","id":"ab1f6a264b5245f3bcc2c1e3dbc6c861","name":"22f2f14c57314628a1aa93e8ed901329"},{"type":"Edge","source_node_id":"bf7f7f36e59a4876ad06ddf09f2d3d27","target_node_id":"f6169e71355247eea4f6c935d3607c50","id":"b218e2bbfeee48f18ed9437c9269867e"},{"type":"Edge","source_node_id":"ffcf293d73f24536be6af151a956f887","target_node_id":"4dc56e4b273e429aa19a29a895f1457c","branch_id":"1ea7b92f609c4f4fb861d364b8dd5afb","id":"e1cb41462a244c2785409470794b9c99","name":"1ea7b92f609c4f4fb861d364b8dd5afb"},{"type":"Edge","source_node_id":"16235ad80af844cfb63edd1554078562","target_node_id":"4dc56e4b273e429aa19a29a895f1457c","id":"646bee70ae3f4f1e8240ff748c9150e5"},{"type":"Edge","source_node_id":"4dc56e4b273e429aa19a29a895f1457c","target_node_id":"8571b1f84e414e41914e01502f71238e","id":"85b2faed9eb042e982030a4072177c77"},{"type":"Edge","source_node_id":"044e1ce1c08941c0b118e88e1fffdad3","target_node_id":"9ee34002dcd14b69a2e5748bd7ca71b1","branch_id":"f7722976f9104db28e90d53a5e94ca4d","id":"f320dc8716a74728b52c30bec9219041","name":"f7722976f9104db28e90d53a5e94ca4d"},{"type":"Edge","source_node_id":"9ee34002dcd14b69a2e5748bd7ca71b1","target_node_id":"6b8aa52a3ca04f39870be2695998ed44","branch_id":"aa6c5683e1cc43cc9d9afa33400177a5","id":"3e23d576a8454f939a97cad1093f87db","name":"aa6c5683e1cc43cc9d9afa33400177a5"},{"type":"Edge","source_node_id":"9ee34002dcd14b69a2e5748bd7ca71b1","target_node_id":"88e25684627c420f99569cf4af6eacfc","branch_id":"164e1b51ecc84d798b0202e9718ba01e","id":"f242769396144c10ac1558e3b5abddd3","name":"164e1b51ecc84d798b0202e9718ba01e"},{"type":"Edge","source_node_id":"88e25684627c420f99569cf4af6eacfc","target_node_id":"fd6511338014471bafb849da8b04dd71","id":"eaa1d312451e4c5cba1452686cb6e1cf"},{"type":"Edge","source_node_id":"fd6511338014471bafb849da8b04dd71","target_node_id":"0b8561a5edbc4abaaf9ca1ebcb4c811c","id":"2890c42108dd455f8236b5dc077dfd20"},{"type":"Edge","source_node_id":"0b8561a5edbc4abaaf9ca1ebcb4c811c","target_node_id":"edabfb9d5b304a459b201ce3e0760724","branch_id":"66153cae30ed446f9dc0f0a51fa9b6a7","id":"1fcc9c258e6b43e3a0cb289492dc7afb","name":"66153cae30ed446f9dc0f0a51fa9b6a7"},{"type":"Edge","source_node_id":"edabfb9d5b304a459b201ce3e0760724","target_node_id":"fd6511338014471bafb849da8b04dd71","id":"f6908ddce8274ddebc33dfb8729c6df3"},{"type":"Edge","source_node_id":"0b8561a5edbc4abaaf9ca1ebcb4c811c","target_node_id":"375aefa0e9114d718bc978244b6b86ea","branch_id":"3c90b03ec5404299b96d4803a7880e29","id":"7622bee684864edc955f5cbd86eb0fd1","name":"3c90b03ec5404299b96d4803a7880e29"},{"type":"Edge","source_node_id":"375aefa0e9114d718bc978244b6b86ea","target_node_id":"fd6511338014471bafb849da8b04dd71","id":"7eff045ef18b49f0abc14f71ec50d440"},{"type":"Edge","source_node_id":"0b8561a5edbc4abaaf9ca1ebcb4c811c","target_node_id":"9c6bbf92e4a64ed98ce15340bd2f8a15","branch_id":"28093ebbd5554161834717ce330ff4eb","id":"33db6298ebfa45788237a6150ad16b3a","name":"28093ebbd5554161834717ce330ff4eb"},{"type":"Edge","source_node_id":"0b8561a5edbc4abaaf9ca1ebcb4c811c","target_node_id":"88e25684627c420f99569cf4af6eacfc","branch_id":"9225ac49413f484782c78952a2f46b82","id":"dce3c07fa6754ecf9beea7691bb67f76","name":"9225ac49413f484782c78952a2f46b82"},{"type":"Edge","source_node_id":"6b8aa52a3ca04f39870be2695998ed44","target_node_id":"9c6bbf92e4a64ed98ce15340bd2f8a15","id":"48688b74615844ddad9ac6f110384c5d"},{"type":"Edge","source_node_id":"9c6bbf92e4a64ed98ce15340bd2f8a15","target_node_id":"8571b1f84e414e41914e01502f71238e","id":"a786d80c5827403b83ad02ecda270eb2"},{"type":"Edge","source_node_id":"00faf9e5b17745769467f0b840eb461d","target_node_id":"d52205f9e30b4615896aa29e1ce3ff1b","branch_id":"2c87b2d855c34708a31c0add6d3eb1a4","id":"1238a311b1c3496ab2aa55cd8a21fcba","name":"2c87b2d855c34708a31c0add6d3eb1a4"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"itemJSON","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f599e999b1534fad8294fe6289f1e16b","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"itemName","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"150e44c6d54a4a24833dda15d17bdb75","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"record_id","value":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    return '';\n})()\n"},"list":false,"id":"b4b7b866a7d44543b9d80d58b52f7a33","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"record_table","value":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    return '';\n})()\n"},"list":false,"id":"26d99ea15fac40eeabc6b88ceca09609","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"qIndex","value":{"type":"String","type":"String","mode":"string","value":"-1"},"list":false,"id":"491c0dce3f3d46439a10f07915ea6a2d","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"limit","value":{"type":"String","type":"String","mode":"string","value":"7"},"list":false,"id":"d80cccee69ff456b9fa094a216f68539","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"count","value":{"type":"String","type":"String","mode":"string","value":"0"},"list":false,"id":"cdbf777c37534bb494c93e8855423d5e","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"index","value":{"type":"String","type":"String","mode":"string","value":"0"},"list":false,"id":"2ed77f68f0344fdcaed0a8699c13739b","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"validation_message","value":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    return '';\n})()\n"},"list":false,"id":"ba125855ba4649a1bf12ada78ff31bac","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"request_for","value":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    /* Return a quoted string.  For example:\n\n       var result;\n       if (vaInputs.first_name == 'Bill') {\n           return gs.getMessage('hi there {0}', [vaInputs.first_name]);\n       } else {\n           return gs.getMessage('how are you {0}', [vaInputs.last_name]);\n       }\n    */\n    return '';\n})()\n"},"list":false,"id":"82d63d0e78ed428f8508b468da50c0aa","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"canView","value":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    return false;\n})()\n"},"list":false,"id":"020c596b3a684505867a86cbfbac4b53","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"unsupportedVarTypes","value":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    return '7,14,15,17,21,23,25,29,30';\n})()\n"},"list":false,"id":"5726b16ae7454d43a2867f5974827346","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"media_links_form_attachment","value":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    return '';\n})()\n"},"list":false,"id":"f077c2b36bbd4047a721c6ef74080fa4","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"contextualSearchVariable","value":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    return '';\n})()\n"},"list":false,"id":"0930e1ffe4144461b54e4c54cc342c51","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"contextualSearchContext","value":{"type":"String","type":"String","mode":"string","value":"2821675a5b30130070e4492c11f91a89"},"list":false,"id":"4d5915249c944d0281dbe383dd5ddc51","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"contextualSearchResultLimit","value":{"type":"String","type":"String","mode":"string","value":"3"},"list":false,"id":"4bf9555c778147e7a9102cb4c5a1cf66","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"contextualSearchIndex","value":{"type":"String","type":"String","mode":"string","value":"0"},"list":false,"id":"b06519fd303c40729c8f13967416dd52","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"contextualSearchResultJsonString","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f11c4a83c8dd4c498525294c4b39fd7e","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"contextualSearchResultCount","value":{"type":"String","type":"String","mode":"string","value":"0"},"list":false,"id":"7b4d66f4c9804d128c43c37da2de4835","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"no_records_found","value":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    /* return 'a default value'; */\n    return \"false\";\n})()\n"},"list":false,"id":"786174e84d5f4c0bb4854ea4479f7d86","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"VariableDto","type":"String","name":"catalog_item_id","list":false,"id":"96c86d6ffd214f15b3e376d324d01e56","formatType":"text","metadata":{"libraryMappingType":"input"},"secure":false,"sensitive":false},{"type":"True/False","type":"True/False","id":"4aae1e90eee040508b488a2e4cb5348d","name":"proceed","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"True/False","type":"True/False","id":"e52e7b19809b477e8dd34158ff059f5e","name":"submit_producer","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"True/False","type":"True/False","id":"519b084f442744ba9cdec5539b5c80aa","name":"order_item","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"Date/Time","type":"Date/Time","mode":"date","id":"e95fe3cbaa0145ba915335119d9222b4","name":"question_date","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"question_text","list":false,"id":"ae8f2994ca9a4ca4ab9b12d80a159ca6","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[],"id":"6066fb5d224646848d768d0d34e4e747","name":"question_reference","formatType":"text","secure":false,"sensitive":false,"list":false,"table":""},{"type":"Reference","type":"Reference","table":"sys_user","id":"b1bf83cc9ee34ad79dd531a289c3317e","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"Choice","type":"Choice","choices":[],"id":"a0567c2eb08f4522a633c139735bfc03","name":"question_choice","formatType":"text","secure":false,"sensitive":false,"list":false,"table":""},{"type":"Date/Time","type":"Date/Time","mode":"date_time","id":"1a84b23329ff407691629ee0413ffaa3","name":"question_date_time","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"Choice","type":"Choice","choices":[],"id":"d4eeeae471a04ae4856ecd2d62713f99","name":"question_requested_for","formatType":"text","secure":false,"sensitive":false,"list":false,"table":""},{"type":"VariableDto","type":"String","name":"search_requested_for","list":false,"id":"316846c0a2a24d999f17a5a01ef4f36f","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"True/False","type":"True/False","id":"f150d45666a5413f84ce5edb35d55feb","name":"request_for_another_user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"question_email","list":false,"id":"b8aefaa78de041dfb7c705d1fa721695","formatType":"33513d135b1200101f254d3ba881c7d5","validationScript":"","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"question_ip_address","list":false,"id":"8784f8f9c63c4b53b708f51c24e4137d","formatType":"a860c5945b2200101f254d3ba881c7df","validationScript":"","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"question_url","list":false,"id":"6d184d69a1d14128b92a42695edb2d46","formatType":"77d8b2935b9200101f254d3ba881c7b9","validationScript":"","secure":false,"sensitive":false},{"type":"True/False","type":"True/False","id":"1b21c82a99564ef3a294397c5f8c888d","name":"add_attachment","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"File","type":"File","id":"185f1193f47746acb6a311742dc54203","name":"upload_attachment","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"True/False","type":"True/False","id":"ff1ae4758d9b40b89e17929fd3fd581e","name":"add_more","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"File","type":"File","id":"6c9b723708b643a7900b672d101eea1d","name":"question_attachment","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"execute_contextual_search","list":false,"id":"4d47ea09c85f4bc3ab62c93012bb25ad","formatType":"text","metadata":{"libraryMappingType":"input"},"secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"confirm_catalog_item","list":false,"id":"e3a93d861bdf4fdf9cc46420ef902298","formatType":"text","metadata":{"libraryMappingType":"input"},"secure":false,"sensitive":false},{"type":"True/False","type":"True/False","id":"8ab9c73162424238a1012a23af55d30d","name":"did_articles_help","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"True/False","type":"True/False","id":"cdf8d6d062b04fb0a31a0329377d93d5","name":"proceed_with_default","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"True/False","type":"True/False","id":"c7cc4fe0351949088b64a68c4042ddde","name":"show_end_state_card","formatType":"text","metadata":{"libraryMappingType":"input"},"secure":false,"sensitive":false,"list":false},{"type":"Choice","type":"Choice","choices":[],"id":"b778ffbdfb28470b9ff46ece908874a6","name":"question_choice_other_channels","formatType":"text","secure":false,"sensitive":false,"list":false,"table":""},{"type":"VariableDto","type":"String","name":"search_reference","list":false,"id":"19899025d0184f1384be882f62937e34","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[],"id":"944a6e290a8344ed968250cf980a96ba","name":"question_reference_other_channels","formatType":"text","secure":false,"sensitive":false,"list":false,"table":""}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"6ead8e780f603200cd674f8ce1050ed1","library-usage":{"type":"Library","input-parameters":[{"name":"catalog_item_id","label":"catalog_item_id","default-value":"\"\"","required":true,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"96c86d6ffd214f15b3e376d324d01e56","type":"String","hint":""},{"name":"execute_contextual_search","label":"execute_contextual_search","default-value":"\"false\"","required":false,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"4d47ea09c85f4bc3ab62c93012bb25ad","type":"String","hint":""},{"name":"confirm_catalog_item","label":"confirm_catalog_item","default-value":"\"true\"","required":false,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"e3a93d861bdf4fdf9cc46420ef902298","type":"String","hint":""},{"name":"show_end_state_card","label":"show_end_state_card","default-value":"false","required":false,"metadata":{"type":"True/False","list":false,"items":[],"use_items":false},"id":"c7cc4fe0351949088b64a68c4042ddde","type":"True/False"}],"return-values-mapping":[{"name":"record_id","label":"record_id","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.record_id}}"}},{"name":"record_table","label":"record_table","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.record_table}}"}},{"name":"variables","label":"variables","value":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    if (!itemJson.variables)\n        return '';\n    var variablesObj = {};\n    for (i = 0; i &lt; itemJson.variables.length; i++) {\n        variablesObj[itemJson.variables[i].name] = itemJson.variables[i].value;\n    }\n    return JSON.stringify(variablesObj);\n})()\n"}}]},"domain":"global","topic_type":"TOPIC_BLOCK","channels":[],"id":"be15fe9e4725e110d02bc789826d435e","name":"Submit a request","key_phrases":[],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":true,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":true,"readOnly":false,"nluMapping":"[]"}</design_definition>
        <design_topic_id>be15fe9e4725e110d02bc789826d435e</design_topic_id>
        <graph>{
  "graph_api_version": "1.0.41",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "dd784b920a0142da805e3a5e494953e8": {
          "id": "dd784b920a0142da805e3a5e494953e8",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          },
          "parameters": [
            {
              "name": "catalog_item_id",
              "value": "",
              "id": "96c86d6ffd214f15b3e376d324d01e56",
              "disabled": true,
              "referenced": true,
              "type": "String",
              "hint": "",
              "required": true
            },
            {
              "name": "execute_contextual_search",
              "value": "false",
              "id": "4d47ea09c85f4bc3ab62c93012bb25ad",
              "referenced": true,
              "disabled": true,
              "type": "String",
              "hint": "",
              "required": false
            },
            {
              "name": "confirm_catalog_item",
              "value": "true",
              "id": "e3a93d861bdf4fdf9cc46420ef902298",
              "referenced": false,
              "disabled": true,
              "type": "String",
              "hint": "",
              "required": false
            },
            {
              "type": "True/False",
              "value": "false",
              "id": "c7cc4fe0351949088b64a68c4042ddde",
              "name": "show_end_state_card",
              "referenced": true,
              "disabled": true
            }
          ],
          "variableIds": [
            "96c86d6ffd214f15b3e376d324d01e56",
            "4d47ea09c85f4bc3ab62c93012bb25ad",
            "e3a93d861bdf4fdf9cc46420ef902298",
            "c7cc4fe0351949088b64a68c4042ddde"
          ]
        },
        "51be302cd5274ac0a00e27aa3d4a8fec": {
          "id": "51be302cd5274ac0a00e27aa3d4a8fec",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "value": "",
            "mode": "simple"
          },
          "outputVariables": [
            {
              "key": "record_id",
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.record_id}}",
                        "displayValue": "vaVars➛record_id"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "disabled": true
            },
            {
              "key": "record_table",
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.record_table}}",
                        "displayValue": "vaVars➛record_table"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "disabled": true
            },
            {
              "key": "variables",
              "value": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    if (!itemJson.variables)\n        return '';\n    var variablesObj = {};\n    for (i = 0; i &lt; itemJson.variables.length; i++) {\n        variablesObj[itemJson.variables[i].name] = itemJson.variables[i].value;\n    }\n    return JSON.stringify(variablesObj);\n})()\n",
              "mode": "script",
              "disabled": true
            }
          ]
        },
        "283f4539bc094341bfe3d6437ab29210": {
          "id": "283f4539bc094341bfe3d6437ab29210",
          "name": "Set Selected Item",
          "script": "(function execute() {\n    var itemId = vaInputs.catalog_item_id.getValue();\n    var itemJSON = new sn_sc.CatalogConversationHelper().getItem(itemId);\n    vaVars.itemJSON = JSON.stringify(itemJSON);\n    vaVars.itemName = itemJSON.name;\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "8276ac1a49834476b8c86f16051ff7d8": {
          "id": "8276ac1a49834476b8c86f16051ff7d8",
          "stepType": "TextOutput",
          "name": "Item Description",
          "value": [
            {
              "value": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var response = gs.getMessage(\"Here are some more details about {0}\", vaVars.itemName);\n    if (itemJson.description) \n        return response + itemJson.description;\n\n    return gs.getMessage(\"Selected {0}\", vaVars.itemName);\n})()\n",
              "mode": "script"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "secure": false
        },
        "672fce7342e944dbbb950e7e05ee33da": {
          "id": "672fce7342e944dbbb950e7e05ee33da",
          "stepType": "Prompt",
          "name": "Proceed",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "Should I proceed with this?"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "4aae1e90eee040508b488a2e4cb5348d",
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "da5a9eb8af2d45b1a5dd750c9c5470de": {
          "id": "da5a9eb8af2d45b1a5dd750c9c5470de",
          "stepType": "Decision",
          "name": "Decision"
        },
        "ebe019552a99491cb32eeef54f748530": {
          "id": "ebe019552a99491cb32eeef54f748530",
          "stepType": "Decision",
          "name": "Decision"
        },
        "7cafd41087d6473bad367721be31459f": {
          "id": "7cafd41087d6473bad367721be31459f",
          "stepType": "Decision",
          "name": "Decision"
        },
        "04f210cee60d45c6bc89e1e3b9ff2324": {
          "id": "04f210cee60d45c6bc89e1e3b9ff2324",
          "stepType": "TextOutput",
          "name": "Start Questions",
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": "OK, let's finish up your request."
                    }
                  ]
                }
              ],
              "mode": "simple"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "secure": false
        },
        "bd097b79bae14762856484305429756e": {
          "id": "bd097b79bae14762856484305429756e",
          "stepType": "Decision",
          "name": "Decision"
        },
        "e93430b8a37246369a0fc4024c59339d": {
          "id": "e93430b8a37246369a0fc4024c59339d",
          "stepType": "Decision",
          "name": "Decision"
        },
        "86b4b6f72ba14424bb039f7ef0b75636": {
          "id": "86b4b6f72ba14424bb039f7ef0b75636",
          "stepType": "Prompt",
          "name": "Submit Producer",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Alright, you're all set. Shall I submit this request?"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "e52e7b19809b477e8dd34158ff059f5e",
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6ac1e6fb6c1f4384888390e0ce949990": {
          "id": "6ac1e6fb6c1f4384888390e0ce949990",
          "stepType": "Decision",
          "name": "Decision"
        },
        "56486e79670a4a58b1ad74c512ac8614": {
          "id": "56486e79670a4a58b1ad74c512ac8614",
          "name": "Insert the Record",
          "script": "(function execute() {\n   var itemJson = JSON.parse(vaVars.itemJSON);\n    var variablesObj = {};\n    var attachmentIds = [];\n    for (i = 0; i &lt; itemJson.variables.length; i++) {\n        variablesObj[itemJson.variables[i].name] = itemJson.variables[i].value;\n        if (itemJson.variables[i].type === 33)\n           attachmentIds.push(itemJson.variables[i].value);\n    }\n   var reqObject = {\n       \"sysparm_id\" : itemJson.sys_id,\n       \"sysparm_action\" : 'execute_producer',\n        \"variables\" : variablesObj,\n        \"engagement_channel\" : 'va'\n   }\n   var response = new sn_sc.CatItem(itemJson.sys_id).submitProducer(reqObject);\n   if (response) {\n       vaVars.record_id = response.sys_id;\n       vaVars.record_table = response.table;\n       // add attachment to record\n       var mediaLinksFormAttachment = vaVars.media_links_form_attachment.split(',');\n       for (var i in mediaLinksFormAttachment)\n           vaSystem.attachToRecord(mediaLinksFormAttachment[i], response.table, response.sys_id);\n\n       // move attachment variable to record\n       var gr = new GlideRecord('sys_attachment');\n       gr.addQuery('sys_id', 'IN' , attachmentIds);\n       gr.query();\n       while (gr.next()) {\n           gr.setValue('table_name', 'ZZ_YY' + response.table);\n           gr.setValue('table_sys_id', response.sys_id);\n           gr.update();\n       }\n   }\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "5b22d4293e194df39a983c82efeb0d85": {
          "id": "5b22d4293e194df39a983c82efeb0d85",
          "stepType": "Prompt",
          "name": "Order Item",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Alright, you're all set. Shall I submit this request?"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "519b084f442744ba9cdec5539b5c80aa",
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "68001e11b17d4fbd8efe2f9a14396448": {
          "id": "68001e11b17d4fbd8efe2f9a14396448",
          "stepType": "Decision",
          "name": "Decision"
        },
        "b4b0d556c5ec4600acbdaf5f1f6ba2d7": {
          "id": "b4b0d556c5ec4600acbdaf5f1f6ba2d7",
          "name": "Checkout Cart",
          "script": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var cartname = \"vacart_\" + gs.generateGUID();\n    var cartObj = new sn_sc.CartJS(cartname);\n    cartObj.setRequestedFor(vaVars.request_for);\n    cartObj.setEngagementChannel('va');\n\n    var variablesObj = {};\n    var attachmentIds = [];\n    for (i = 0; i &lt; itemJson.variables.length; i++) {\n        variablesObj[itemJson.variables[i].name] = itemJson.variables[i].value;\n        if (itemJson.variables[i].type === 33)\n           attachmentIds.push(itemJson.variables[i].value);\n    }\n        \n\n    var reqObj = {\n        \"sysparm_id\" : itemJson.sys_id,\n        \"variables\" : variablesObj\n    };\n    cartObj.addToCart(reqObj);\n    var requestResponse = cartObj.checkoutCart(true);\n    var requestGr = new GlideRecord('sc_request');\n    if (requestGr.get(requestResponse.request_id)) {\n        var reqItemGr = new GlideRecord('sc_req_item');\n        reqItemGr.addQuery(\"request\", requestResponse.request_id);\n        reqItemGr.query();\n        if (reqItemGr.next()) {\n            vaVars.record_id = reqItemGr.getUniqueValue();\n            vaVars.record_table = 'sc_req_item';\n            // add attachment to record\n            var mediaLinksFormAttachment = vaVars.media_links_form_attachment.split(',');\n            for (var i in mediaLinksFormAttachment)\n                vaSystem.attachToRecord(mediaLinksFormAttachment[i], vaVars.record_table, vaVars.record_id);\n\n        }\n        // move attachment variable to record\n        var gr = new GlideRecord('sys_attachment');\n        gr.addQuery('sys_id', 'IN' , attachmentIds);\n        gr.query();\n        while (gr.next()) {\n            gr.setValue('table_name', 'ZZ_YY' + vaVars.record_table);\n            gr.setValue('table_sys_id', vaVars.record_id);\n            gr.update();\n        }\n    }\n})()",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "044e1ce1c08941c0b118e88e1fffdad3": {
          "id": "044e1ce1c08941c0b118e88e1fffdad3",
          "stepType": "Decision",
          "name": "Decision"
        },
        "e2daf38ea63045f6a020f0aafd5fba95": {
          "id": "e2daf38ea63045f6a020f0aafd5fba95",
          "stepType": "Prompt",
          "name": "Question Date",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "e95fe3cbaa0145ba915335119d9222b4",
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"
          },
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "8571b1f84e414e41914e01502f71238e": {
          "id": "8571b1f84e414e41914e01502f71238e",
          "name": "Post Response",
          "script": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    vaVars.validation_message = \"\";\n    var quesJson = itemJson.variables[vaVars.qIndex];\n    var type = quesJson.type;\n    var vaFieldValidator = new global.VAFieldValidator();\n    // If user doesn't want to proceed with the selected value and skips the question, the variable would be set to \"\"\n    var proceedWithDefaultValue = vaInputs.proceed_with_default.getValue();\n    switch (type) {\n        case 2:\n        case 6:\n        case 16:\n            var ans = vaInputs.question_text.getValue() || (proceedWithDefaultValue ? quesJson.display_value : \"\");\n            if (ans.trim().length === 0 &amp;&amp; itemJson.variables[vaVars.qIndex].mandatory) {\n                vaVars.validation_message = gs.getMessage('You must answer this question');\n                break;\n            }\n            if (type === 2) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_text = \"\";\n                break;\n            }\n            var q = GlideappQuestion.getQuestion(itemJson.variables[vaVars.qIndex].sys_id);\n            var validresponse = q.validateRegex(ans);\n            if (validresponse) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_text = \"\";\n            } else if (!validresponse)\n                vaVars.validation_message = q.getValidationMessage();\n            break;\n        case 9:\n            itemJson.variables[vaVars.qIndex].value = vaInputs.question_date.getDisplayValue() || (proceedWithDefaultValue ? quesJson.display_value : \"\");\n            vaInputs.question_date = \"\";\n            break;\n        case 10:\n            itemJson.variables[vaVars.qIndex].value = vaInputs.question_date_time.getDisplayValue() || (proceedWithDefaultValue ? quesJson.display_value : \"\");\n            vaInputs.question_date_time = \"\";\n            break;\n        case 8:\n            var ans = (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_reference)\n                ans = vaInputs.question_reference.getValue();\n\n            itemJson.variables[vaVars.qIndex].value = ans;\n            vaInputs.question_reference = \"\";\n            break;\n        case 1:\n        case 3:\n        case 4:\n        case 5:\n        case 18:\n        case 22:\n            var ans = (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_choice) {\n                ans = vaInputs.question_choice.getValue();\n                ans = ans == 'no_data' ? '' : ans;\n            }\n            itemJson.variables[vaVars.qIndex].value = ans;\n            vaInputs.question_choice = \"\";\n            break;\n        case 26:\n            var ans = vaInputs.question_email.getValue() || (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_email.getValue() || ans == \"\" || vaFieldValidator.validateEmailAddress(ans)) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_email = \"\";\n            } else\n                vaVars.validation_message = gs.getMessage(\"This isn't a valid email address\");\n            break;\n        case 27:\n            var ans = vaInputs.question_url.getValue() || (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_url.getValue() || ans == \"\" || vaFieldValidator.validateURL(ans)) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_url = \"\";\n            } else\n                vaVars.validation_message = gs.getMessage(\"This isn't a valid URL\");\n            break;\n        case 28:\n            var ans = vaInputs.question_ip_address.getValue() || (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_ip_address.getValue() || ans == \"\" || vaFieldValidator.validateIPAddress(ans)) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_ip_address = \"\";\n            } else\n                vaVars.validation_message = gs.getMessage(\"This isn't a valid IP Address\");\n            break;\n        case 31:\n            var ans = quesJson.default_value + '';\n            if (quesJson.default_value &amp;&amp; proceedWithDefaultValue)\n                vaVars.request_for = ans;\n            else if (vaVars.request_for)\n                ans = vaVars.request_for;\n            itemJson.variables[vaVars.qIndex].value = ans;\n    }\n    if (!vaVars.request_for)\n        vaVars.request_for = gs.getUserID() + '';\n    if (quesJson.data_lookup_ids &amp;&amp; quesJson.data_lookup_ids.length != 0) {\n        var helper = new sn_sc.CatalogConversationHelper();\n        vaVars.itemJSON = JSON.stringify(helper.runDataLookups(itemJson, quesJson.sys_id));\n    } else\n        vaVars.itemJSON = JSON.stringify(itemJson);\n\n// resetting the value of proceed with default incase validation fails\n   if (vaVars.validation_message.length !== 0)\n       vaInputs.proceed_with_default = false;\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "f989a9ad87b94635ba8e11bffd25db3e": {
          "id": "f989a9ad87b94635ba8e11bffd25db3e",
          "stepType": "Decision",
          "name": "Decision"
        },
        "fc2ba28a1a4e4bd388f04f533bf8b9b8": {
          "id": "fc2ba28a1a4e4bd388f04f533bf8b9b8",
          "stepType": "ScriptOutput",
          "name": "Validation Message",
          "output_type": "single_part",
          "script": "(function execute() {\n      var singleOutMsg = new sn_cs.SinglePartOutMsg();\n       singleOutMsg.setTextPart(gs.getMessage('{0}. Answer the question again', vaVars.validation_message));\n       return singleOutMsg;\n})()",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "8824db40c313417ab7a99c4d59bad6d7": {
          "id": "8824db40c313417ab7a99c4d59bad6d7",
          "stepType": "Prompt",
          "name": "Question Text",
          "prompt": {
            "value": "(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "ae8f2994ca9a4ca4ab9b12d80a159ca6",
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"
          },
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6b8aa52a3ca04f39870be2695998ed44": {
          "stepType": "ReferenceChoicePrompt",
          "name": "Question Reference",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "6066fb5d224646848d768d0d34e4e747",
          "id": "6b8aa52a3ca04f39870be2695998ed44",
          "mode": "external",
          "script": "(function execute() {\n    var options = [];\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var variable = itemJson.variables[vaVars.qIndex];\n\n    var gr = new GlideRecordSecure(variable.reference);\n    gr.addQuery(variable.qualifier);\n    if (variable.ref_ac_order_by)\n        gr.orderBy(variable.ref_ac_order_by);\n    else\n        gr.orderBy(gr.getDisplayName());\n    \n    gr.query();\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n    \n    return options;    \n})()",
          "noRecordsResponseMsg": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "No records found"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "condition": {
            "value": "(function execute() {\n    var options = [];\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var variable = itemJson.variables[vaVars.qIndex];\n\n    var gr = new GlideRecordSecure(variable.reference);\n    gr.addQuery(variable.qualifier);\n    if (variable.ref_ac_order_by)\n        gr.orderBy(variable.ref_ac_order_by);\n    else\n        gr.orderBy(gr.getDisplayName());\n    \n    gr.query();\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n    \n    return options;    \n})()",
            "mode": "external_script"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"
          },
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "hasCardHeader": false
        },
        "da1b34f6779a49c799e1dd03cd78e8e7": {
          "id": "da1b34f6779a49c799e1dd03cd78e8e7",
          "name": "Set Record ID to -1",
          "script": "(function execute() {\n    vaVars.record_id = \"-1\";\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "16235ad80af844cfb63edd1554078562": {
          "stepType": "ReferenceChoicePrompt",
          "name": "Question Choice",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "a0567c2eb08f4522a633c139735bfc03",
          "id": "16235ad80af844cfb63edd1554078562",
          "mode": "external",
          "script": "(function execute() {\n    var options = [];\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    var choices = quesJson.options;\n    if (choices.length &gt; 0 &amp;&amp; quesJson.mandatory) {\n        if (!choices[0].value)\n            choices.shift();\n    }\n    \n    options = choices;\n    return options;    \n})()",
          "noRecordsResponseMsg": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "No records found"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "condition": {
            "value": "(function execute() {\n    var options = [];\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    var choices = quesJson.options;\n    if (choices.length &gt; 0 &amp;&amp; quesJson.mandatory) {\n        if (!choices[0].value)\n            choices.shift();\n    }\n    \n    options = choices;\n    return options;    \n})()",
            "mode": "external_script"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n    var question = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if (question.mandatory)\n        return false;\n    if (question.type === 3 &amp;&amp; question.value === '' &amp;&amp; question.options[0].value !== '') \n        return true;\n    if (question.type === 4 &amp;&amp; question.value === '')\n        return true;\n    return false;\n})();\n"
          },
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "hasCardHeader": false
        },
        "6ea3e29bd18b45fbad79026d8a0f99e1": {
          "id": "6ea3e29bd18b45fbad79026d8a0f99e1",
          "stepType": "Prompt",
          "name": "Question Date Time",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "1a84b23329ff407691629ee0413ffaa3",
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"
          },
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "370ad3fb273a453e926fe6755ae2a038": {
          "id": "370ad3fb273a453e926fe6755ae2a038",
          "stepType": "TextOutput",
          "name": "Question Label",
          "value": [
            {
              "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
              "mode": "script"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "secure": false
        },
        "8ec688331ad149858a71a2dac931aaca": {
          "id": "8ec688331ad149858a71a2dac931aaca",
          "stepType": "TextOutput",
          "name": "Container Start Question",
          "value": [
            {
              "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
              "mode": "script"
            }
          ],
          "applicability": {
            "mode": "script",
            "value": "(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if (quesJson.display_title)\n        return true;\n})()\n"
          },
          "secure": false
        },
        "183ed373d35044eab535dd135ff292f2": {
          "stepType": "ReferenceChoicePrompt",
          "name": "Question Requested For",
          "prompt": {
            "value": "(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "d4eeeae471a04ae4856ecd2d62713f99",
          "id": "183ed373d35044eab535dd135ff292f2",
          "mode": "external",
          "script": "(function execute() {\n    var options = [];\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var count = 0;\n    var gr = new GlideRecordSecure('sys_user');\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    gr.addEncodedQuery('nameLIKE'+ vaInputs.search_requested_for);\n    gr.addQuery(quesJson.qualifier);\n    gr.orderBy(gr.getDisplayName());\n    gr.chooseWindow(index, index + limit, true);\n    gr.query();\n\n    var count = gr.getRowCount();\n    vaVars.count = count;\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n    \n    if (count &gt; 0) {\n        options.push({\n            'value' : 'search',\n            'label' : gs.getMessage('Someone else')\n        });\n    }\n    return options;    \n})()\n",
          "noRecordsResponseMsg": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "I couldn't find a user with that name"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "condition": {
            "value": "(function execute() {\n    var options = [];\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var count = 0;\n    var gr = new GlideRecordSecure('sys_user');\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    gr.addEncodedQuery('nameLIKE'+ vaInputs.search_requested_for);\n    gr.addQuery(quesJson.qualifier);\n    gr.orderBy(gr.getDisplayName());\n    gr.chooseWindow(index, index + limit, true);\n    gr.query();\n\n    var count = gr.getRowCount();\n    vaVars.count = count;\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n    \n    if (count &gt; 0) {\n        options.push({\n            'value' : 'search',\n            'label' : gs.getMessage('Someone else')\n        });\n    }\n    return options;    \n})()\n",
            "mode": "external_script"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "hasCardHeader": false
        },
        "fe34c0add58848ad9793da50eca42e33": {
          "id": "fe34c0add58848ad9793da50eca42e33",
          "stepType": "Prompt",
          "name": "Search Requested For",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "Who should I set it to? "
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "316846c0a2a24d999f17a5a01ef4f36f",
          "skippable": {
            "mode": "query",
            "value": ""
          },
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "07625e3aefb04160b9e511077decd883": {
          "id": "07625e3aefb04160b9e511077decd883",
          "stepType": "Decision",
          "name": "Decision"
        },
        "f5f724982a8d46ba8d1297fa5afec71a": {
          "id": "f5f724982a8d46ba8d1297fa5afec71a",
          "name": "Requested For Next Page",
          "script": "(function execute() {\n    var count = parseInt(vaVars.count);\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    if ( index + limit &gt; count )\n        vaVars.index = 0;\n    else\n        vaVars.index = index + limit;\n})();",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "b63dd1929f4c4a0b8c5a33425f5ebd76": {
          "id": "b63dd1929f4c4a0b8c5a33425f5ebd76",
          "name": "Is Delegation Allowed",
          "script": "(function execute() {\n    var item = new sn_sc.CatItem(JSON.parse(vaVars.itemJSON).sys_id);\n    vaVars.request_for = vaInputs.question_requested_for.getValue() + '';\n    vaVars.canView = item.isDelegationAllowed(vaVars.request_for);\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "9262b503ad7b46178def86c2615bfae9": {
          "id": "9262b503ad7b46178def86c2615bfae9",
          "stepType": "Decision",
          "name": "Decision"
        },
        "df4cfc3f53434f19a6fb3acbdb083a83": {
          "id": "df4cfc3f53434f19a6fb3acbdb083a83",
          "name": "Requested For Previous Page",
          "script": "(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var c = index - limit;\n    if ( c &lt; 0 ) c = 0;\n    vaVars.index = c;\n})();",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "5d45aa11131b45f09dcd7416f592aeff": {
          "id": "5d45aa11131b45f09dcd7416f592aeff",
          "stepType": "Prompt",
          "name": "Request For Another User",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "The selected user does not have access to this item. Do you want to request for  someone else?"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "f150d45666a5413f84ce5edb35d55feb",
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "05255bdbac644088b5659eec17ce50c1": {
          "id": "05255bdbac644088b5659eec17ce50c1",
          "stepType": "Decision",
          "name": "Decision"
        },
        "56f07b4d847e420db66e8d81361ddd10": {
          "id": "56f07b4d847e420db66e8d81361ddd10",
          "stepType": "Decision",
          "name": "Decision"
        },
        "4f7ac9b4ddbe4b2b9ea7414c9fcb685b": {
          "id": "4f7ac9b4ddbe4b2b9ea7414c9fcb685b",
          "name": "Run OnChange Policies",
          "script": "(function execute() {\n   vaVars.itemJSON = JSON.stringify(new sn_sc.CatalogConversationHelper().runChangePolicies(JSON.parse(vaVars.itemJSON)))\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "8d93d8843de844d48aa28d704be88a24": {
          "id": "8d93d8843de844d48aa28d704be88a24",
          "stepType": "Prompt",
          "name": "Question Email",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "b8aefaa78de041dfb7c705d1fa721695",
          "inputType": {
            "format": "33513d135b1200101f254d3ba881c7d5",
            "script": ""
          }
        },
        "ae30428de0854b879e2463db21a8a9a3": {
          "id": "ae30428de0854b879e2463db21a8a9a3",
          "stepType": "Prompt",
          "name": "Question IP Address",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "8784f8f9c63c4b53b708f51c24e4137d",
          "inputType": {
            "format": "a860c5945b2200101f254d3ba881c7df",
            "script": ""
          }
        },
        "33d38415583140099fe1b76b257da175": {
          "id": "33d38415583140099fe1b76b257da175",
          "stepType": "Prompt",
          "name": "Question URL",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "6d184d69a1d14128b92a42695edb2d46",
          "inputType": {
            "format": "77d8b2935b9200101f254d3ba881c7b9",
            "script": ""
          }
        },
        "a3a9e1d6acc24cfab94bad3b1646ba39": {
          "id": "a3a9e1d6acc24cfab94bad3b1646ba39",
          "stepType": "Decision",
          "name": "Decision"
        },
        "bab8fe0ff1b0424aaaffe2d3e1357205": {
          "id": "bab8fe0ff1b0424aaaffe2d3e1357205",
          "stepType": "Prompt",
          "name": "Add Attachment",
          "prompt": {
            "value": "(function execute() {\n    return gs.getMessage('Add attachment?');\n})()\n",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "mode": "script",
            "value": "(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return !item.mandatory_attachment;\n})()\n"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "1b21c82a99564ef3a294397c5f8c888d"
        },
        "69a42a60bce441aabd4e1425fb6ff001": {
          "id": "69a42a60bce441aabd4e1425fb6ff001",
          "stepType": "Decision",
          "name": "Decision"
        },
        "e38cf83bb0f1413293b5a3285df60e95": {
          "id": "e38cf83bb0f1413293b5a3285df60e95",
          "stepType": "Prompt",
          "name": "Upload Attachment",
          "prompt": {
            "value": "(function execute() {\n    return gs.getMessage('Upload attachment');\n})()\n",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n    var addMore = false;\n    //when attachment is mandatory, to provide an option to skip add more \n    if (vaInputs.add_more &amp;&amp; vaInputs.add_more.getValue())\n        addMore = true;\n        \n    return !JSON.parse(vaVars.itemJSON).mandatory_attachment || addMore;\n})()"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "185f1193f47746acb6a311742dc54203"
        },
        "44656362c3fb478b9873ab25b87680fc": {
          "id": "44656362c3fb478b9873ab25b87680fc",
          "name": "Add Media Links for Form Attachment",
          "script": "(function execute() {\n    if (!!vaVars.media_links_form_attachment)\n        vaVars.media_links_form_attachment = vaVars.media_links_form_attachment + ',' + vaInputs.upload_attachment.getValue();\n    else\n        vaVars.media_links_form_attachment = vaInputs.upload_attachment.getValue();\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "b63b61c9c83b46958de81eb056a6a082": {
          "id": "b63b61c9c83b46958de81eb056a6a082",
          "stepType": "Prompt",
          "name": "Add More",
          "prompt": {
            "value": "(function execute() {\n    return gs.getMessage('Add more?');\n})()\n",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "ff1ae4758d9b40b89e17929fd3fd581e"
        },
        "07dc3cad038f44008d29ce413d2bb540": {
          "id": "07dc3cad038f44008d29ce413d2bb540",
          "stepType": "Decision",
          "name": "Decision"
        },
        "8829f10d9ccb4d5c9001d4aae75eb484": {
          "id": "8829f10d9ccb4d5c9001d4aae75eb484",
          "stepType": "Prompt",
          "name": "Question Attachment",
          "prompt": {
            "value": "(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()\n",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "6c9b723708b643a7900b672d101eea1d"
        },
        "b55bad4e16584b4bb58e831478fa1240": {
          "id": "b55bad4e16584b4bb58e831478fa1240",
          "name": "Validate Attachment",
          "script": "(function execute() {\n    vaVars.validation_message = \"\";\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var quesJson = itemJson.variables[vaVars.qIndex];\n    var vaUtils = new global.VAUtils();\n    var arr = vaInputs.question_attachment.getValue().split('/');\n    var mediaId = arr[arr.length - 1];\n    var gr = new GlideRecord('sys_cs_media');\n    gr.addQuery('media_id', mediaId);\n    gr.query();\n    if (gr.next()) {\n        var attachmentId = gr.getValue('sys_attachment_id');\n        var attachRef = new GlideRecord('sys_attachment');\n        if (attachRef.get(attachmentId)) {\n            var file = {\n                name: attachRef.getValue('file_name'),\n                size: attachRef.getValue('size_bytes')\n            };\n            var allowedExtensions = new Array();\n            if (quesJson.allow_extension)\n               allowedExtensions = quesJson.allow_extension.split(';');\n            var field = {\n                allowedExtensions: allowedExtensions,\n                allowedFileSize: quesJson.max_file_size\n            };\n            var result = vaUtils.validateAttachment(file, field);\n            if (result.type == 'success') {\n                quesJson.value = attachmentId;\n                vaVars.itemJSON = JSON.stringify(itemJson);\n                vaInputs.question_attachment.setValue('');\n            } else\n                vaVars.validation_message = result.message;\n        } else \n            vaVars.validation_message = gs.getMessage('Failed to upload the attachment');\n    } else \n        vaVars.validation_message = gs.getMessage('Failed to upload the attachment');\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "question_attachmentISNOTEMPTY",
            "mode": "query"
          }
        },
        "8521cdbae0d24e6c83e02fc046a56379": {
          "id": "8521cdbae0d24e6c83e02fc046a56379",
          "stepType": "Decision",
          "name": "Decision"
        },
        "f801dd6a055f41acb70e498238be8a12": {
          "id": "f801dd6a055f41acb70e498238be8a12",
          "stepType": "ScriptOutput",
          "name": "Validation Message",
          "output_type": "single_part",
          "script": "(function execute() {\n     var singleOutMsg = new sn_cs.SinglePartOutMsg();\n       singleOutMsg.setTextPart(gs.getMessage('{0}. Answer the question again', vaVars.validation_message));\n       vaVars.validation_message = \"\";\n       return singleOutMsg;\n})()\n",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "0c2e9fcdbe32409fae7127893740c5b6": {
          "id": "0c2e9fcdbe32409fae7127893740c5b6",
          "stepType": "Decision",
          "name": "Is Record Producer"
        },
        "5d39b4c7f6794899b2516248682e5d70": {
          "id": "5d39b4c7f6794899b2516248682e5d70",
          "stepType": "Decision",
          "name": "Execute Contextual Search"
        },
        "0a188a759f604c848f57f06c768ee997": {
          "id": "0a188a759f604c848f57f06c768ee997",
          "name": "Get Search Variable And Context",
          "script": "(function execute() {\n    var contextualSearch = new global.VAGlobalContextualSearchUtil();\n    if(gs.nil(vaVars.contextualSearchVariable)) {\n        var searchConfig = contextualSearch.getContextualSearchVariableAndContext(vaInputs.catalog_item_id);\n        vaVars.contextualSearchVariable = searchConfig.searchVariable;\n        vaVars.contextualSearchContext = searchConfig.context;\n    }\n    return;\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "mode": "query",
            "value": ""
          }
        },
        "56d0aab82fe04303b99d36f7cce63972": {
          "id": "56d0aab82fe04303b99d36f7cce63972",
          "stepType": "Decision",
          "name": "Contextual Search Variable ?"
        },
        "f77f196c8c95407ab2759d0752c46342": {
          "id": "f77f196c8c95407ab2759d0752c46342",
          "name": "Contextual Search",
          "script": "(function execute() {\n    var contextualSearch = new global.VAGlobalContextualSearchUtil();\n    var response = contextualSearch.search(\n        vaVars.contextualSearchContext, vaInputs.question_text.getValue(), ''\n    );\n    var success = contextualSearch.processSearchResponse(response);\n    if (!success) {\n        return;\n    }  \n    var relevantSearchResults = contextualSearch.processGeneralResults(response, 20, -2);\n    vaVars.contextualSearchResultCount = relevantSearchResults.length;\n    vaVars.contextualSearchResultJsonString = JSON.stringify(relevantSearchResults);\n    vaVars.contextualSearchIndex = 0;\n    return;\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "e6d5f126883048b5a8689e65d7288bbb": {
          "id": "e6d5f126883048b5a8689e65d7288bbb",
          "stepType": "Decision",
          "name": "Did the search return results ?"
        },
        "0ddad87a60304350b756711a4a8cf6e1": {
          "id": "0ddad87a60304350b756711a4a8cf6e1",
          "stepType": "LinkOutput",
          "name": "Display multi-link",
          "url": {
            "mode": "simple",
            "value": ""
          },
          "label": {
            "mode": "simple",
            "value": ""
          },
          "header": {
            "mode": "simple",
            "value": ""
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "linkType": "multiple",
          "introMsg": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "I found some information that might help you:"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "listOfLinks": "(function execute(header) {\n\tvar contextualSearch = new global.VAGlobalContextualSearchUtil();\n\tvar variables = {\n\t\tlimit: vaVars.contextualSearchResultLimit,\n\t\tindex: vaVars.contextualSearchIndex,\n\t\tsearch_result_json_string: vaVars.contextualSearchResultJsonString,\n\t\tportal: ''\n\t}\n\tvar groupedLinksOutMsg = contextualSearch.getLinks(header, variables);\n\treturn groupedLinksOutMsg;\n})(header)\n"
        },
        "d041488d76d5403c9d07120379efe948": {
          "id": "d041488d76d5403c9d07120379efe948",
          "stepType": "Decision",
          "name": "Did Articles Help ?"
        },
        "1ab59bcfc4454c868b23947965fb7839": {
          "id": "1ab59bcfc4454c868b23947965fb7839",
          "stepType": "Prompt",
          "name": "Did Articles Help",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "Did any of this information resolve your issue?"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "8ab9c73162424238a1012a23af55d30d"
        },
        "aa99b4d4130f4efda7f9942686855ab5": {
          "id": "aa99b4d4130f4efda7f9942686855ab5",
          "stepType": "Decision",
          "name": "Confirmation Required ?"
        },
        "a63a438b92184b43b5646802d23c8610": {
          "id": "a63a438b92184b43b5646802d23c8610",
          "stepType": "Decision",
          "name": "Decision"
        },
        "f5f71b7b0d4142a8b78c8af9affd12a5": {
          "id": "f5f71b7b0d4142a8b78c8af9affd12a5",
          "stepType": "TextOutput",
          "name": "Catalog Builder Preview",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": "Preview successful"
                    }
                  ]
                }
              ],
              "mode": "simple"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "713e14f86ad140a7b8fe3338fcb1b48d": {
          "id": "713e14f86ad140a7b8fe3338fcb1b48d",
          "stepType": "Decision",
          "name": "Decision"
        },
        "48b421f110d146968f8972df5af8201e": {
          "id": "48b421f110d146968f8972df5af8201e",
          "stepType": "TextOutput",
          "name": "Catalog Builder Preview Message",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": "Since this was a preview, the request was not submitted"
                    }
                  ]
                }
              ],
              "mode": "simple"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "6d6cda5633e548ed9f132b1c888799e8": {
          "id": "6d6cda5633e548ed9f132b1c888799e8",
          "stepType": "Decision",
          "name": "Decision"
        },
        "af634ddaa6aa449883315424de2dca9e": {
          "id": "af634ddaa6aa449883315424de2dca9e",
          "stepType": "ScriptOutput",
          "name": "Question Rich Text Label",
          "output_type": "single_part",
          "script": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "34555f7e5e684f18b9ab9a355235a42f": {
          "id": "34555f7e5e684f18b9ab9a355235a42f",
          "stepType": "TextOutput",
          "name": "Default Value Acknowledgement ",
          "secure": false,
          "value": [
            {
              "value": "(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    var renderedValue = quesJson.display_value ? quesJson.display_value : quesJson.value;\n    return gs.getMessage(\"&lt;b&gt;{0}&lt;/b&gt; was selected as the value for &lt;b&gt;{1}&lt;/b&gt;\", [renderedValue, quesJson.label])\n})()\n",
              "mode": "script"
            }
          ],
          "applicability": {
            "mode": "script",
            "value": "(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.default_value ? true : false;\n})()\n"
          }
        },
        "b6d41404087b434494995fd2379eb75c": {
          "id": "b6d41404087b434494995fd2379eb75c",
          "stepType": "Prompt",
          "name": "Proceed with Default",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Do you want to proceed with this value?"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "mode": "script",
            "value": "(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.default_value ? true : false;\n})()\n"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "cdf8d6d062b04fb0a31a0329377d93d5"
        },
        "917a3ae293f448f8a406bce99d2a8c35": {
          "id": "917a3ae293f448f8a406bce99d2a8c35",
          "stepType": "Decision",
          "name": "Decision"
        },
        "00faf9e5b17745769467f0b840eb461d": {
          "id": "00faf9e5b17745769467f0b840eb461d",
          "stepType": "Decision",
          "name": "Show end state card?"
        },
        "a8567ca93d13473b9b449de368e0d95e": {
          "id": "a8567ca93d13473b9b449de368e0d95e",
          "stepType": "Decision",
          "name": "Decision"
        },
        "249e3dd6dca34f8e8b6e1c1c49f39c79": {
          "id": "249e3dd6dca34f8e8b6e1c1c49f39c79",
          "stepType": "Decision",
          "name": "Messaging Channel"
        },
        "f6169e71355247eea4f6c935d3607c50": {
          "stepType": "ReferenceChoicePrompt",
          "name": "Question Choice Other Channels",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n    var question = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if (question.mandatory)\n        return false;\n    if (question.type === 4 &amp;&amp; question.value === '')\n        return true;\n    if (question.type === 3 &amp;&amp; question.value === '' &amp;&amp; question.options[0].value !== '')\n        return true;\n    return false;\n})();\n"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "b778ffbdfb28470b9ff46ece908874a6",
          "id": "f6169e71355247eea4f6c935d3607c50",
          "mode": "external",
          "script": "(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var options = [];\n    var count = 0;\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n\n    var choices = quesJson.options;\n    if (choices.length &gt; 0 &amp;&amp; quesJson.mandatory) {\n        if (!choices[0].value)\n            choices.shift();\n    }\n    \n    count = choices.length;\n    vaVars.count = count;\n    options = choices.splice(index, limit);\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n    \n    return options;    \n})()",
          "metadataScript": "",
          "cardData": {},
          "noRecordsResponseMsg": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "No records found"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "condition": {
            "value": "(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var options = [];\n    var count = 0;\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n\n    var choices = quesJson.options;\n    if (choices.length &gt; 0 &amp;&amp; quesJson.mandatory) {\n        if (!choices[0].value)\n            choices.shift();\n    }\n    \n    count = choices.length;\n    vaVars.count = count;\n    options = choices.splice(index, limit);\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n    \n    return options;    \n})()",
            "mode": "external_script"
          },
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "ffcf293d73f24536be6af151a956f887": {
          "id": "ffcf293d73f24536be6af151a956f887",
          "stepType": "Decision",
          "name": "Decision"
        },
        "48b027bbee8e424785d6f503592b322b": {
          "id": "48b027bbee8e424785d6f503592b322b",
          "name": "Question Choice Prev Page",
          "script": "(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var c = index - limit;\n    if ( c &lt; 0 ) c = 0;\n    vaVars.index = c;\n})();",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "bf7f7f36e59a4876ad06ddf09f2d3d27": {
          "id": "bf7f7f36e59a4876ad06ddf09f2d3d27",
          "name": "Question Choice Next Page",
          "script": "(function execute() {\n    var count = parseInt(vaVars.count);\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    if ( index + limit &gt; count )\n        vaVars.index = 0;\n    else\n        vaVars.index = index + limit;\n})();",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "4dc56e4b273e429aa19a29a895f1457c": {
          "id": "4dc56e4b273e429aa19a29a895f1457c",
          "name": "Set Question Choice Value",
          "script": "(function execute() {\n    if(vaInputs.question_choice_other_channels) {\n        vaInputs.question_choice = vaInputs.question_choice_other_channels;\n        vaInputs.question_choice_other_channels = \"\";\n    }\n})()",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "9ee34002dcd14b69a2e5748bd7ca71b1": {
          "id": "9ee34002dcd14b69a2e5748bd7ca71b1",
          "stepType": "Decision",
          "name": "Messaging Channel"
        },
        "88e25684627c420f99569cf4af6eacfc": {
          "id": "88e25684627c420f99569cf4af6eacfc",
          "stepType": "Prompt",
          "name": "Search Reference",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter a value to search"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.question_reference_other_channels;\n})()\n"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "19899025d0184f1384be882f62937e34",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "fd6511338014471bafb849da8b04dd71": {
          "stepType": "ReferenceChoicePrompt",
          "name": "Question Reference Other Channels",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "944a6e290a8344ed968250cf980a96ba",
          "id": "fd6511338014471bafb849da8b04dd71",
          "mode": "external",
          "script": "(function execute() {\n    var options = [];\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var count = 0;\n\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var variable = itemJson.variables[vaVars.qIndex];\n    var gr = new GlideRecordSecure(variable.reference);\n    var displayColumn = gr.getDisplayName();\n   \n    gr.addEncodedQuery(displayColumn + 'LIKE' + vaInputs.search_reference.getValue());\n    gr.addQuery(variable.qualifier);\n    if (variable.ref_ac_order_by)\n        gr.orderBy(variable.ref_ac_order_by);\n    else\n        gr.orderBy(displayColumn);\n    \n    gr.chooseWindow(index, index + limit, true);\n    gr.query();\n\n    var count = gr.getRowCount();\n    vaVars.count = count;\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n\n    if (count &gt; 0) {\n        vaVars.no_records_found = \"false\"\n        options.push({\n            'value' : 'search',\n            'label' : gs.getMessage('Search')\n        });\n    }\n    else\n        vaVars.no_records_found = \"true\";\n    \n    return options;    \n})()\n",
          "metadataScript": "",
          "cardData": {},
          "noRecordsResponseMsg": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "No records found"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "condition": {
            "value": "(function execute() {\n    var options = [];\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var count = 0;\n\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var variable = itemJson.variables[vaVars.qIndex];\n    var gr = new GlideRecordSecure(variable.reference);\n    var displayColumn = gr.getDisplayName();\n   \n    gr.addEncodedQuery(displayColumn + 'LIKE' + vaInputs.search_reference.getValue());\n    gr.addQuery(variable.qualifier);\n    if (variable.ref_ac_order_by)\n        gr.orderBy(variable.ref_ac_order_by);\n    else\n        gr.orderBy(displayColumn);\n    \n    gr.chooseWindow(index, index + limit, true);\n    gr.query();\n\n    var count = gr.getRowCount();\n    vaVars.count = count;\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n\n    if (count &gt; 0) {\n        vaVars.no_records_found = \"false\"\n        options.push({\n            'value' : 'search',\n            'label' : gs.getMessage('Search')\n        });\n    }\n    else\n        vaVars.no_records_found = \"true\";\n    \n    return options;    \n})()\n",
            "mode": "external_script"
          },
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "0b8561a5edbc4abaaf9ca1ebcb4c811c": {
          "id": "0b8561a5edbc4abaaf9ca1ebcb4c811c",
          "stepType": "Decision",
          "name": "Decision"
        },
        "edabfb9d5b304a459b201ce3e0760724": {
          "id": "edabfb9d5b304a459b201ce3e0760724",
          "name": "Question Reference Prev Page",
          "script": "(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var c = index - limit;\n    if ( c &lt; 0 ) c = 0;\n    vaVars.index = c;\n})();",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "375aefa0e9114d718bc978244b6b86ea": {
          "id": "375aefa0e9114d718bc978244b6b86ea",
          "name": "Question Reference Next Page",
          "script": "(function execute() {\n    var count = parseInt(vaVars.count);\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    if ( index + limit &gt; count )\n        vaVars.index = 0;\n    else\n        vaVars.index = index + limit;\n})();",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "9c6bbf92e4a64ed98ce15340bd2f8a15": {
          "id": "9c6bbf92e4a64ed98ce15340bd2f8a15",
          "name": "Set Question Reference Value",
          "script": "(function execute() {\n    if(vaInputs.question_reference_other_channels) {\n        vaInputs.question_reference = vaInputs.question_reference_other_channels;\n        vaInputs.question_reference_other_channels = \"\";\n    }\n})()",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "d52205f9e30b4615896aa29e1ce3ff1b": {
          "id": "d52205f9e30b4615896aa29e1ce3ff1b",
          "stepType": "ReusableTopic",
          "name": "End state card",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "End state card for Catalog Request",
          "reusableTopicId": "0b01391550d30110fa9b861f7d83d7f6",
          "inputs": {
            "record_id": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.record_id}}",
                        "displayValue": "Script Variables➛record_id"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            },
            "record_table": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.record_table}}",
                        "displayValue": "Script Variables➛record_table"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "variableIds": [],
          "outputs": [],
          "outdatedNote": false,
          "loading": false
        }
      },
      "edges": [
        {
          "id": "0b8d9cffb24246ceb616f146c1d682d9",
          "edgeType": "Edge",
          "source": "d52205f9e30b4615896aa29e1ce3ff1b",
          "target": "51be302cd5274ac0a00e27aa3d4a8fec",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "e5a7ee30bd194549b3f93ef48b19195b",
          "edgeType": "Branch",
          "source": "044e1ce1c08941c0b118e88e1fffdad3",
          "target": "fe34c0add58848ad9793da50eca42e33",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    if (JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 31)\n        return true;\n})()\n"
          },
          "label": "Question Requested For"
        },
        {
          "id": "a6b425c41da44fe0947c6b80d4cfe2fe",
          "edgeType": "Edge",
          "source": "56486e79670a4a58b1ad74c512ac8614",
          "target": "00faf9e5b17745769467f0b840eb461d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "f8eb4312699e48df8f18ad5475a0f533",
          "edgeType": "Edge",
          "source": "8829f10d9ccb4d5c9001d4aae75eb484",
          "target": "b55bad4e16584b4bb58e831478fa1240",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "3876d0cd32c44e1cb4929bafa6f459d4",
          "edgeType": "Edge",
          "source": "44656362c3fb478b9873ab25b87680fc",
          "target": "b63b61c9c83b46958de81eb056a6a082",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "f97187f2e81e4eb2917643e002e570d2",
          "edgeType": "Branch",
          "source": "07625e3aefb04160b9e511077decd883",
          "target": "f5f724982a8d46ba8d1297fa5afec71a",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.question_requested_for.getValue() === 'next';\n})()\n"
          },
          "label": "Requested For Next"
        },
        {
          "id": "6502c76ed4574e5f9397e2608e157a49",
          "edgeType": "Branch",
          "source": "e93430b8a37246369a0fc4024c59339d",
          "target": "5b22d4293e194df39a983c82efeb0d85",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    if (itemJson.sys_class_name !== 'sc_cat_item_producer')\n        return true;\nreturn false;\n})()\n"
          },
          "label": "Catalog Item"
        },
        {
          "id": "1cda5d5494494b7b90303f1476aeb916",
          "edgeType": "Edge",
          "source": "dd784b920a0142da805e3a5e494953e8",
          "target": "283f4539bc094341bfe3d6437ab29210",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "092fc560356d4ab3a687611fae385d44",
          "edgeType": "Edge",
          "source": "8276ac1a49834476b8c86f16051ff7d8",
          "target": "672fce7342e944dbbb950e7e05ee33da",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "58087b5cea234ca7bf8d9ab6425e731e",
          "edgeType": "Edge",
          "source": "672fce7342e944dbbb950e7e05ee33da",
          "target": "da5a9eb8af2d45b1a5dd750c9c5470de",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "b95d9d3ba4ef429097af28119e3d2587",
          "edgeType": "Branch",
          "source": "da5a9eb8af2d45b1a5dd750c9c5470de",
          "target": "51be302cd5274ac0a00e27aa3d4a8fec",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "proceed=false",
            "mode": "query"
          },
          "label": "No"
        },
        {
          "id": "e1ed6feb0afa4e2cb21af9d08e2efa09",
          "edgeType": "Branch",
          "source": "da5a9eb8af2d45b1a5dd750c9c5470de",
          "target": "ebe019552a99491cb32eeef54f748530",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "proceed=true",
            "mode": "query"
          },
          "label": "Yes"
        },
        {
          "id": "43e246e7c2cc44e1be5a97d5a9b76288",
          "edgeType": "Branch",
          "source": "ebe019552a99491cb32eeef54f748530",
          "target": "7cafd41087d6473bad367721be31459f",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n   return JSON.parse(vaVars.itemJSON).va_support;\n})()"
          },
          "label": "Has VA Support"
        },
        {
          "id": "2167c45a812644729b40906c2594f1de",
          "edgeType": "Branch",
          "source": "7cafd41087d6473bad367721be31459f",
          "target": "bd097b79bae14762856484305429756e",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var qIndex = parseInt(vaVars.qIndex);\n    //qIndex is -1 initially, we reset this before search again step \n    do{\n        qIndex++;\n        var question = itemJson.variables[qIndex];\n    }\n    while(question &amp;&amp; (!question.visible || question.readonly || question.sys_readonly));\n\n    if (question) {\n       //There are variables that we can show\n        return false;\n    }\n    //No variables that we can show\n    return true;\n})()\n"
          },
          "label": "Item with no variables"
        },
        {
          "id": "d2ee23a6870e4dfcbe5c0c9da84823c3",
          "edgeType": "Branch",
          "source": "7cafd41087d6473bad367721be31459f",
          "target": "04f210cee60d45c6bc89e1e3b9ff2324",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var qIndex = parseInt(vaVars.qIndex);\n    //qIndex is -1 initially, we reset this before search again step \n\n    do{\n        qIndex++;\n        var question = itemJson.variables[qIndex];\n    }\n    while(question &amp;&amp; (!question.visible || question.readonly || question.sys_readonly));\n\n    if (question) {\n       //There are variables that we can show\n        return true;\n    }\n    //No variables  that we can show\n    return false;\n})()\n"
          },
          "label": "Item with variables"
        },
        {
          "id": "42319152dbb646dc8b09ff562581eb6b",
          "edgeType": "Edge",
          "source": "04f210cee60d45c6bc89e1e3b9ff2324",
          "target": "bd097b79bae14762856484305429756e",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "1050941439a14d158db3b3f492256257",
          "edgeType": "Branch",
          "source": "e93430b8a37246369a0fc4024c59339d",
          "target": "86b4b6f72ba14424bb039f7ef0b75636",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    if (itemJson.sys_class_name === 'sc_cat_item_producer')\n        return true;\nreturn false;\n})()\n"
          },
          "label": "Record Producer"
        },
        {
          "id": "1f0ebbc39d164cdba044814dbea888db",
          "edgeType": "Edge",
          "source": "86b4b6f72ba14424bb039f7ef0b75636",
          "target": "6ac1e6fb6c1f4384888390e0ce949990",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "b48e7c5475734c3c8d419da6a433e2b3",
          "edgeType": "Branch",
          "source": "6ac1e6fb6c1f4384888390e0ce949990",
          "target": "51be302cd5274ac0a00e27aa3d4a8fec",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "submit_producer=",
            "mode": "query"
          },
          "label": "Don't Submit"
        },
        {
          "id": "13a051a17ae74197980002178441d6b4",
          "edgeType": "Edge",
          "source": "5b22d4293e194df39a983c82efeb0d85",
          "target": "68001e11b17d4fbd8efe2f9a14396448",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "1098e5286f9845dbb62d394afd2589b8",
          "edgeType": "Branch",
          "source": "68001e11b17d4fbd8efe2f9a14396448",
          "target": "51be302cd5274ac0a00e27aa3d4a8fec",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "order_item=",
            "mode": "query"
          },
          "label": "Don't Order"
        },
        {
          "id": "633b30209c7c477988b3c685976c9484",
          "edgeType": "Branch",
          "source": "044e1ce1c08941c0b118e88e1fffdad3",
          "target": "e2daf38ea63045f6a020f0aafd5fba95",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 9;\n})()\n"
          },
          "label": "Date Question"
        },
        {
          "id": "7f25a333d0904995a65255c6b1d212e3",
          "edgeType": "Edge",
          "source": "e2daf38ea63045f6a020f0aafd5fba95",
          "target": "8571b1f84e414e41914e01502f71238e",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "f1d93a2a57a649048bf18d1b857b1455",
          "edgeType": "Edge",
          "source": "8571b1f84e414e41914e01502f71238e",
          "target": "f989a9ad87b94635ba8e11bffd25db3e",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "554516667d684b478778a3752bd35883",
          "edgeType": "Branch",
          "source": "f989a9ad87b94635ba8e11bffd25db3e",
          "target": "fc2ba28a1a4e4bd388f04f533bf8b9b8",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaVars.validation_message.length !== 0;\n})()\n"
          },
          "label": "Repeat Question"
        },
        {
          "id": "ba1d9972d11246c9bbfe75a19caaa278",
          "edgeType": "Branch",
          "source": "044e1ce1c08941c0b118e88e1fffdad3",
          "target": "8824db40c313417ab7a99c4d59bad6d7",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var type = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type;\n    return type === 2 || type === 6 || type === 16;\n})()"
          },
          "label": "Text Type Question"
        },
        {
          "id": "73eb7fe4dc83400783402dd11b3af030",
          "edgeType": "Branch",
          "source": "ebe019552a99491cb32eeef54f748530",
          "target": "da1b34f6779a49c799e1dd03cd78e8e7",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return !JSON.parse(vaVars.itemJSON).va_support;\n})()"
          },
          "label": "No VA Support"
        },
        {
          "id": "683c2d70372a4aec802fde3240c3a256",
          "edgeType": "Edge",
          "source": "da1b34f6779a49c799e1dd03cd78e8e7",
          "target": "51be302cd5274ac0a00e27aa3d4a8fec",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "f622fb82719b47759b4fac9be3ce85ca",
          "edgeType": "Branch",
          "source": "044e1ce1c08941c0b118e88e1fffdad3",
          "target": "6ea3e29bd18b45fbad79026d8a0f99e1",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 10;\n})()\n"
          },
          "label": "Date-Time Question"
        },
        {
          "id": "fd7f196b33614d7dad74729fc5c8503a",
          "edgeType": "Edge",
          "source": "6ea3e29bd18b45fbad79026d8a0f99e1",
          "target": "8571b1f84e414e41914e01502f71238e",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "f877d342f3794f0c911012c1afe1a805",
          "edgeType": "Branch",
          "source": "044e1ce1c08941c0b118e88e1fffdad3",
          "target": "370ad3fb273a453e926fe6755ae2a038",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 11;\n})()"
          },
          "label": "Question Label"
        },
        {
          "id": "9717bef8115c426bb1eded17ee6682ac",
          "edgeType": "Edge",
          "source": "370ad3fb273a453e926fe6755ae2a038",
          "target": "8571b1f84e414e41914e01502f71238e",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "3bb8715d910441919549c2918b00a430",
          "edgeType": "Branch",
          "source": "044e1ce1c08941c0b118e88e1fffdad3",
          "target": "8ec688331ad149858a71a2dac931aaca",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var type = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type;\n    if (type === 0 || type === 12 || type === 19 || type === 20 || type === 24)\n        return true;\n})()\n"
          },
          "label": "Container Or Break Questions"
        },
        {
          "id": "74e8921e7eb64ab08e5af5af9edea9f4",
          "edgeType": "Edge",
          "source": "8ec688331ad149858a71a2dac931aaca",
          "target": "8571b1f84e414e41914e01502f71238e",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "071d5b49a13c45b6acf58802739f0f13",
          "edgeType": "Edge",
          "source": "fe34c0add58848ad9793da50eca42e33",
          "target": "183ed373d35044eab535dd135ff292f2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "81a466203d154bcd8164b5ac935268fa",
          "edgeType": "Edge",
          "source": "183ed373d35044eab535dd135ff292f2",
          "target": "07625e3aefb04160b9e511077decd883",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "123dd9d82e8a4b09868cb8704a1a9e41",
          "edgeType": "Edge",
          "source": "f5f724982a8d46ba8d1297fa5afec71a",
          "target": "183ed373d35044eab535dd135ff292f2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "d4cbf9e148e942f0b50091ebe9deb8ae",
          "edgeType": "Branch",
          "source": "07625e3aefb04160b9e511077decd883",
          "target": "fe34c0add58848ad9793da50eca42e33",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return !vaInputs.question_requested_for.getValue() || vaInputs.question_requested_for.getValue() === 'search';\n})()\n"
          },
          "label": "Search Requested For"
        },
        {
          "id": "1c5e0023bf5e4e7583f25a38274d39ba",
          "edgeType": "Branch",
          "source": "07625e3aefb04160b9e511077decd883",
          "target": "b63dd1929f4c4a0b8c5a33425f5ebd76",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var valuePicked = vaInputs.question_requested_for.getValue();\n    var condition = valuePicked !== 'next' &amp;&amp; valuePicked !== 'prev';\n    if (condition) {\n        vaVars.count = 0;\n        vaVars.index = 0;\n    }\n    return condition;\n})();"
          },
          "label": "Requested For Chosen"
        },
        {
          "id": "4c77c17bcfe9409b822e50a13441091b",
          "edgeType": "Edge",
          "source": "b63dd1929f4c4a0b8c5a33425f5ebd76",
          "target": "9262b503ad7b46178def86c2615bfae9",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "c4675c4807624504978f22f186886a8a",
          "edgeType": "Branch",
          "source": "9262b503ad7b46178def86c2615bfae9",
          "target": "8571b1f84e414e41914e01502f71238e",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaVars.canView;\n})()\n"
          },
          "label": "Can View"
        },
        {
          "id": "f721a3720b5647c6b0f4d9edbee99b22",
          "edgeType": "Branch",
          "source": "07625e3aefb04160b9e511077decd883",
          "target": "df4cfc3f53434f19a6fb3acbdb083a83",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.question_requested_for.getValue() === 'prev';\n})()\n"
          },
          "label": "Requested For Prev"
        },
        {
          "id": "482ac681d03d4563819d8352c4c0ada1",
          "edgeType": "Edge",
          "source": "df4cfc3f53434f19a6fb3acbdb083a83",
          "target": "183ed373d35044eab535dd135ff292f2",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "3241a92c65954e798c01d11f3b90649c",
          "edgeType": "Branch",
          "source": "9262b503ad7b46178def86c2615bfae9",
          "target": "5d45aa11131b45f09dcd7416f592aeff",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return !vaVars.canView\n})()\n"
          },
          "label": "Cannot View"
        },
        {
          "id": "55f7df34988f4af1bd3854aedff8d512",
          "edgeType": "Edge",
          "source": "5d45aa11131b45f09dcd7416f592aeff",
          "target": "05255bdbac644088b5659eec17ce50c1",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "280ccc45ad864a66a31b5a4a603ad6d5",
          "edgeType": "Branch",
          "source": "05255bdbac644088b5659eec17ce50c1",
          "target": "fe34c0add58848ad9793da50eca42e33",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "request_for_another_user=true",
            "mode": "query"
          },
          "label": "Request for Another User"
        },
        {
          "id": "3b0b259b804b4a0facfba76a3cd8d1f0",
          "edgeType": "Branch",
          "source": "05255bdbac644088b5659eec17ce50c1",
          "target": "51be302cd5274ac0a00e27aa3d4a8fec",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "request_for_another_user=",
            "mode": "query"
          },
          "label": "End Conversation"
        },
        {
          "id": "3d1f73d03a714b07a45641ffb0046df0",
          "edgeType": "Branch",
          "source": "f989a9ad87b94635ba8e11bffd25db3e",
          "target": "56f07b4d847e420db66e8d81361ddd10",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaVars.validation_message.length === 0;\n})()\n"
          },
          "label": "Next Question"
        },
        {
          "id": "7e973c3d2f974cfd891bb13014f208fa",
          "edgeType": "Branch",
          "source": "56f07b4d847e420db66e8d81361ddd10",
          "target": "bd097b79bae14762856484305429756e",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).has_on_change_policies;\n})()\n"
          },
          "label": "No onChange Policies"
        },
        {
          "id": "fe81858ce4a743cda7b94c9f873ecddf",
          "edgeType": "Branch",
          "source": "56f07b4d847e420db66e8d81361ddd10",
          "target": "4f7ac9b4ddbe4b2b9ea7414c9fcb685b",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n   return JSON.parse(vaVars.itemJSON).has_on_change_policies;\n})()\n"
          },
          "label": "Has onChange Policies"
        },
        {
          "id": "4cac6731064a49f88bafac99cdee2ac3",
          "edgeType": "Edge",
          "source": "4f7ac9b4ddbe4b2b9ea7414c9fcb685b",
          "target": "bd097b79bae14762856484305429756e",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "844d4d45449345da88101a803a04f94a",
          "edgeType": "Branch",
          "source": "044e1ce1c08941c0b118e88e1fffdad3",
          "target": "8571b1f84e414e41914e01502f71238e",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var unSupportedTypes = vaVars.unsupportedVarTypes.split(',');\n   return unSupportedTypes.indexOf(String(JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type)) !== -1;\n})()\n"
          },
          "label": "Unsupported  Variable  Types"
        },
        {
          "id": "bbe84b8e390844ea9820f409235252d1",
          "edgeType": "Branch",
          "source": "044e1ce1c08941c0b118e88e1fffdad3",
          "target": "8d93d8843de844d48aa28d704be88a24",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 26;\n})()\n"
          },
          "label": "Email Question"
        },
        {
          "id": "3f76d3427d8e4ec8b8887f9464fdbc4e",
          "edgeType": "Edge",
          "source": "8d93d8843de844d48aa28d704be88a24",
          "target": "8571b1f84e414e41914e01502f71238e",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "1f693a48e5624121b84ab494711f611b",
          "edgeType": "Branch",
          "source": "044e1ce1c08941c0b118e88e1fffdad3",
          "target": "ae30428de0854b879e2463db21a8a9a3",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 28;\n})()\n"
          },
          "label": "Ip Address Question"
        },
        {
          "id": "fc9e09c16153497aaacdead920b8a65f",
          "edgeType": "Edge",
          "source": "ae30428de0854b879e2463db21a8a9a3",
          "target": "8571b1f84e414e41914e01502f71238e",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "0687abb9a8674508b3973f6929d0141c",
          "edgeType": "Branch",
          "source": "044e1ce1c08941c0b118e88e1fffdad3",
          "target": "33d38415583140099fe1b76b257da175",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 27;\n})()\n"
          },
          "label": "URL Question"
        },
        {
          "id": "1cc68a75056344e1adad57f5bb83900b",
          "edgeType": "Edge",
          "source": "33d38415583140099fe1b76b257da175",
          "target": "8571b1f84e414e41914e01502f71238e",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "bd94b27e3011494c9869a192f8c58e0b",
          "edgeType": "Branch",
          "source": "bd097b79bae14762856484305429756e",
          "target": "a3a9e1d6acc24cfab94bad3b1646ba39",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var qIndex = parseInt(vaVars.qIndex);\n    //qIndex is -1 initially, we reset this before search again step \n    do{\n        qIndex++;\n        var question = itemJson.variables[qIndex];\n    }\n    while(question &amp;&amp; (!question.visible || question.readonly || question.sys_readonly));\n\n    if (question) {\n       //There are variables that we can show\n        return false;\n    }\n    //No variables that we can show\n    return true;\n})()"
          },
          "label": "Questions Done"
        },
        {
          "id": "8d7e573b9c8546c09739bd132f8928c7",
          "edgeType": "Branch",
          "source": "a3a9e1d6acc24cfab94bad3b1646ba39",
          "target": "e93430b8a37246369a0fc4024c59339d",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return item.no_attachments === true;\n})()\n"
          },
          "label": "Has  No Attachment"
        },
        {
          "id": "33b32066261140cfbd1595a5eb6b7caa",
          "edgeType": "Branch",
          "source": "a3a9e1d6acc24cfab94bad3b1646ba39",
          "target": "bab8fe0ff1b0424aaaffe2d3e1357205",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return item.no_attachments === false;\n})()\n"
          },
          "label": "Has Attachment"
        },
        {
          "id": "f92c3f6ead33462b9bb4524f4848a416",
          "edgeType": "Edge",
          "source": "bab8fe0ff1b0424aaaffe2d3e1357205",
          "target": "69a42a60bce441aabd4e1425fb6ff001",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "b24ff75d563649a2bb951f058e023ba6",
          "edgeType": "Branch",
          "source": "69a42a60bce441aabd4e1425fb6ff001",
          "target": "e93430b8a37246369a0fc4024c59339d",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return !item.mandatory_attachment &amp;&amp; !vaInputs.add_attachment.getValue();\n})()\n"
          },
          "label": "No"
        },
        {
          "id": "faffb0666e0a4bdb80dec24953b5f2f8",
          "edgeType": "Branch",
          "source": "69a42a60bce441aabd4e1425fb6ff001",
          "target": "e38cf83bb0f1413293b5a3285df60e95",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return item.mandatory_attachment || vaInputs.add_attachment.getValue();\n})()\n"
          },
          "label": "Yes"
        },
        {
          "id": "68b3849711c54db18114bf248e629f73",
          "edgeType": "Edge",
          "source": "b63b61c9c83b46958de81eb056a6a082",
          "target": "07dc3cad038f44008d29ce413d2bb540",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "b9ae3d30bad441ad9c972770c2aae131",
          "edgeType": "Branch",
          "source": "07dc3cad038f44008d29ce413d2bb540",
          "target": "e38cf83bb0f1413293b5a3285df60e95",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "add_more=true",
            "mode": "query"
          },
          "label": "Yes"
        },
        {
          "id": "4100071438a24d3c91de728e352cb8a0",
          "edgeType": "Branch",
          "source": "07dc3cad038f44008d29ce413d2bb540",
          "target": "e93430b8a37246369a0fc4024c59339d",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "add_more=",
            "mode": "query"
          },
          "label": "No"
        },
        {
          "id": "1956537de17242f9add0c86ac81e58dc",
          "edgeType": "Branch",
          "source": "044e1ce1c08941c0b118e88e1fffdad3",
          "target": "8829f10d9ccb4d5c9001d4aae75eb484",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 33;\n})()\n"
          },
          "label": "Question Attachment"
        },
        {
          "id": "d3506e52467e43a48ccd814886e67409",
          "edgeType": "Edge",
          "source": "b55bad4e16584b4bb58e831478fa1240",
          "target": "8521cdbae0d24e6c83e02fc046a56379",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "bdea2e36c0c740af83f049d3656b3748",
          "edgeType": "Branch",
          "source": "8521cdbae0d24e6c83e02fc046a56379",
          "target": "56f07b4d847e420db66e8d81361ddd10",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaVars.validation_message.length === 0;\n})()\n"
          },
          "label": "Next Question"
        },
        {
          "id": "fea7c1934b4b4a6e81bdd02745b096db",
          "edgeType": "Branch",
          "source": "8521cdbae0d24e6c83e02fc046a56379",
          "target": "f801dd6a055f41acb70e498238be8a12",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaVars.validation_message.length !== 0;\n})()\n"
          },
          "label": "Repeat Question"
        },
        {
          "id": "a651102fc6af4087b6037c08a274c92c",
          "edgeType": "Edge",
          "source": "f801dd6a055f41acb70e498238be8a12",
          "target": "8829f10d9ccb4d5c9001d4aae75eb484",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "817adff8105842deae6a0dd8e8f8be1b",
          "edgeType": "Edge",
          "source": "8824db40c313417ab7a99c4d59bad6d7",
          "target": "0c2e9fcdbe32409fae7127893740c5b6",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "5f22d1e9370b40e3b9f6aba906332478",
          "edgeType": "Branch",
          "source": "0c2e9fcdbe32409fae7127893740c5b6",
          "target": "8571b1f84e414e41914e01502f71238e",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n   \n    if (itemJson.sys_class_name !== 'sc_cat_item_producer') {\n        return true;\n    }    \n    return false;\n})()\n"
          },
          "label": "No"
        },
        {
          "id": "b9ae2d2adeec46df972ff09c8394219f",
          "edgeType": "Branch",
          "source": "0c2e9fcdbe32409fae7127893740c5b6",
          "target": "5d39b4c7f6794899b2516248682e5d70",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    if (itemJson.sys_class_name === 'sc_cat_item_producer') {\n        return true;\n    }    \n    return false;\n})()"
          },
          "label": "Yes"
        },
        {
          "id": "1604135386f843088d888cde5691a8ae",
          "edgeType": "Branch",
          "source": "5d39b4c7f6794899b2516248682e5d70",
          "target": "8571b1f84e414e41914e01502f71238e",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    /**\n     * Topic should pass execute_contextual_search as input if contextual search is required\n     *  It will execute contextual search only first time. For subsequent text variables, it will be skipped\n     */\n    var ans = vaInputs.question_text.getValue();\n    if(vaInputs.execute_contextual_search == 'false' || ans.trim().length === 0) {\n        return true;\n    }\n    return false;    \n})()\n"
          },
          "label": "No",
          "fromNode": "- Execute Contextual Search",
          "toNode": "8571b1f84e414e41914e01502f71238e",
          "toEdge": "1604135386f843088d888cde5691a8ae",
          "addNode": {},
          "nodeEntries": {}
        },
        {
          "id": "5751b24582de49179051939ee18654ab",
          "edgeType": "Branch",
          "source": "5d39b4c7f6794899b2516248682e5d70",
          "target": "0a188a759f604c848f57f06c768ee997",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    /**\n     * Topic should pass execute_contextual_search as input if contextual search is required\n     *  It will execute contextual search only first time. For subsequent text variables, it will be skipped\n     */\n    var ans = vaInputs.question_text.getValue();\n    if(vaInputs.execute_contextual_search == 'true'  &amp;&amp; ans.trim().length !== 0) {\n        return true;\n    }\n    return false;     \n})()\n"
          },
          "label": "Yes"
        },
        {
          "id": "26f262c7106e4629b125c408b30a1db5",
          "edgeType": "Edge",
          "source": "0a188a759f604c848f57f06c768ee997",
          "target": "56d0aab82fe04303b99d36f7cce63972",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "06ca3189b8514ea4844e7ec3f1509b1f",
          "edgeType": "Branch",
          "source": "56d0aab82fe04303b99d36f7cce63972",
          "target": "8571b1f84e414e41914e01502f71238e",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if(vaVars.contextualSearchVariable !== quesJson.sys_id) {\n        return true;\n    }\n    return false;\n})()"
          },
          "label": "No",
          "fromNode": "- Contextual Search Variable ?",
          "toNode": "8571b1f84e414e41914e01502f71238e",
          "toEdge": "06ca3189b8514ea4844e7ec3f1509b1f",
          "addNode": {},
          "nodeEntries": {}
        },
        {
          "id": "002006dd0ab04851b3d11374b5d54bce",
          "edgeType": "Branch",
          "source": "56d0aab82fe04303b99d36f7cce63972",
          "target": "f77f196c8c95407ab2759d0752c46342",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if(vaVars.contextualSearchVariable === quesJson.sys_id) {\n        return true;\n    }\n    return false;\n})()"
          },
          "label": "Yes"
        },
        {
          "id": "a7a00fad85d84bdeb5938fa3c52f223f",
          "edgeType": "Edge",
          "source": "f77f196c8c95407ab2759d0752c46342",
          "target": "e6d5f126883048b5a8689e65d7288bbb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "7bda493a9f794ef494181f9eae0fcf03",
          "edgeType": "Branch",
          "source": "e6d5f126883048b5a8689e65d7288bbb",
          "target": "8571b1f84e414e41914e01502f71238e",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    if(vaVars.contextualSearchResultCount &lt;= 0){\n        return true;\n    }\n    return false;\n})()\n"
          },
          "label": "No",
          "fromNode": "- Did the search return results ?",
          "toNode": "8571b1f84e414e41914e01502f71238e",
          "toEdge": "7bda493a9f794ef494181f9eae0fcf03",
          "addNode": {},
          "nodeEntries": {}
        },
        {
          "id": "89018bc19a584976a307ef509ec6a030",
          "edgeType": "Branch",
          "source": "e6d5f126883048b5a8689e65d7288bbb",
          "target": "0ddad87a60304350b756711a4a8cf6e1",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    if(vaVars.contextualSearchResultCount &gt; 0){\n        return true;\n    }\n    return false;\n})()\n"
          },
          "label": "Yes"
        },
        {
          "id": "20585b8a62e2417295c358f8427bae24",
          "edgeType": "Branch",
          "source": "d041488d76d5403c9d07120379efe948",
          "target": "51be302cd5274ac0a00e27aa3d4a8fec",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "did_articles_help=true",
            "mode": "query"
          },
          "label": "Yes"
        },
        {
          "id": "5969da9a3c8048f7828eaf6145c824c9",
          "edgeType": "Branch",
          "source": "d041488d76d5403c9d07120379efe948",
          "target": "8571b1f84e414e41914e01502f71238e",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "did_articles_help!=true",
            "mode": "query"
          },
          "label": "No",
          "fromNode": "- Decision",
          "toNode": "8571b1f84e414e41914e01502f71238e",
          "toEdge": "5969da9a3c8048f7828eaf6145c824c9",
          "addNode": {},
          "nodeEntries": {}
        },
        {
          "id": "778c7f333f3a4c1385bad41057867044",
          "edgeType": "Edge",
          "source": "0ddad87a60304350b756711a4a8cf6e1",
          "target": "1ab59bcfc4454c868b23947965fb7839",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "d81b3bf5c53c470fb16f9ad2021813de",
          "edgeType": "Edge",
          "source": "1ab59bcfc4454c868b23947965fb7839",
          "target": "d041488d76d5403c9d07120379efe948",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "2887f7188101482e860062bbac7f1615",
          "edgeType": "Edge",
          "source": "283f4539bc094341bfe3d6437ab29210",
          "target": "aa99b4d4130f4efda7f9942686855ab5",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "694f78bbe3164287b633b6ddb8349108",
          "edgeType": "Branch",
          "source": "aa99b4d4130f4efda7f9942686855ab5",
          "target": "8276ac1a49834476b8c86f16051ff7d8",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "confirm_catalog_item=true",
            "mode": "query"
          },
          "label": "Yes"
        },
        {
          "id": "86978926150b47ec98dc72557fc719f1",
          "edgeType": "Branch",
          "source": "aa99b4d4130f4efda7f9942686855ab5",
          "target": "bd097b79bae14762856484305429756e",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "confirm_catalog_item=false",
            "mode": "query"
          },
          "label": "No",
          "fromNode": "- Confirmation Required ?",
          "toNode": "bd097b79bae14762856484305429756e",
          "toEdge": "86978926150b47ec98dc72557fc719f1",
          "addNode": {},
          "nodeEntries": {}
        },
        {
          "id": "27017308604f444f82800ac8721045c3",
          "edgeType": "Branch",
          "source": "68001e11b17d4fbd8efe2f9a14396448",
          "target": "a63a438b92184b43b5646802d23c8610",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "order_item=true",
            "mode": "query"
          },
          "label": "Order Now"
        },
        {
          "id": "a83366b1df264e948e7095d830aac009",
          "edgeType": "Branch",
          "source": "a63a438b92184b43b5646802d23c8610",
          "target": "b4b0d556c5ec4600acbdaf5f1f6ba2d7",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    if (vaContext.catalog_builder_preview)\n       return false;\n    return true;\n})()\n"
          },
          "label": "Order"
        },
        {
          "id": "bf1aad55e51540f8a422345e3e8132b2",
          "edgeType": "Branch",
          "source": "a63a438b92184b43b5646802d23c8610",
          "target": "f5f71b7b0d4142a8b78c8af9affd12a5",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n   if (vaContext.catalog_builder_preview)\n      return true;\n   return false;\n})()\n"
          },
          "label": "Preview"
        },
        {
          "id": "8a176f73f56842cf8d450ce012bd46a9",
          "edgeType": "Branch",
          "source": "6ac1e6fb6c1f4384888390e0ce949990",
          "target": "713e14f86ad140a7b8fe3338fcb1b48d",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "submit_producer=true",
            "mode": "query"
          },
          "label": "Submit Now"
        },
        {
          "id": "16768e0f0dea4959ae3c0ef622c207d3",
          "edgeType": "Branch",
          "source": "713e14f86ad140a7b8fe3338fcb1b48d",
          "target": "56486e79670a4a58b1ad74c512ac8614",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    if (vaContext.catalog_builder_preview)\n       return false;\n    return true;\n})()\n"
          },
          "label": "Submit"
        },
        {
          "id": "ad992d192b974b438e71ba45493706d4",
          "edgeType": "Branch",
          "source": "713e14f86ad140a7b8fe3338fcb1b48d",
          "target": "f5f71b7b0d4142a8b78c8af9affd12a5",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n   if (vaContext.catalog_builder_preview)\n      return true;\n   return false;\n})()\n"
          },
          "label": "Preview"
        },
        {
          "id": "041f02477a3d4be0b3587ceb7fe0df46",
          "edgeType": "Edge",
          "source": "f5f71b7b0d4142a8b78c8af9affd12a5",
          "target": "48b421f110d146968f8972df5af8201e",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "f4465629436d4ac29dddc618dfe1bbd2",
          "edgeType": "Edge",
          "source": "48b421f110d146968f8972df5af8201e",
          "target": "51be302cd5274ac0a00e27aa3d4a8fec",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "902318fcfa904f1b9dc75e02c768ad4d",
          "edgeType": "Edge",
          "source": "e38cf83bb0f1413293b5a3285df60e95",
          "target": "6d6cda5633e548ed9f132b1c888799e8",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "ef9cb2fe472a42af88a69446da1c0130",
          "edgeType": "Branch",
          "source": "6d6cda5633e548ed9f132b1c888799e8",
          "target": "44656362c3fb478b9873ab25b87680fc",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.upload_attachmentISNOTEMPTY",
            "mode": "query"
          },
          "label": "Attachment uploaded"
        },
        {
          "id": "f1e3769d77d14555aaa2a0b1202ef1bf",
          "edgeType": "Branch",
          "source": "6d6cda5633e548ed9f132b1c888799e8",
          "target": "e93430b8a37246369a0fc4024c59339d",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.upload_attachmentISEMPTY",
            "mode": "query"
          },
          "label": "Attachment skipped"
        },
        {
          "id": "e6f40c5d601d4e53b06dc808658e2259",
          "edgeType": "Branch",
          "source": "044e1ce1c08941c0b118e88e1fffdad3",
          "target": "af634ddaa6aa449883315424de2dca9e",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 32;\n})()\n"
          },
          "label": "Rich Text Label Question"
        },
        {
          "id": "cc199ab7d990413e9d390db801707a31",
          "edgeType": "Edge",
          "source": "af634ddaa6aa449883315424de2dca9e",
          "target": "8571b1f84e414e41914e01502f71238e",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85aa670fea5c462a95746b1ecb1d1c0b",
          "edgeType": "Branch",
          "source": "bd097b79bae14762856484305429756e",
          "target": "34555f7e5e684f18b9ab9a355235a42f",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n     var itemJson = JSON.parse(vaVars.itemJSON);\n    var qIndex = parseInt(vaVars.qIndex);\n    //qIndex is -1 initially, we reset this before search again step \n\n    do {\n        qIndex++;\n        var question = itemJson.variables[qIndex];\n    }\n    while(question &amp;&amp; (!question.visible || question.readonly || question.sys_readonly));\n\n    if (question) {\n        vaVars.qIndex = qIndex;\n        return true;\n    }\n    return false;\n})()"
          },
          "label": "Questions Left"
        },
        {
          "id": "38ee18d2a17349e188e3b2a40a8069cb",
          "edgeType": "Edge",
          "source": "34555f7e5e684f18b9ab9a355235a42f",
          "target": "b6d41404087b434494995fd2379eb75c",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "0e7d0750362747b2a613de181f7b1ccf",
          "edgeType": "Edge",
          "source": "b6d41404087b434494995fd2379eb75c",
          "target": "917a3ae293f448f8a406bce99d2a8c35",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "191ccf63bc944b488b3e6388195e2bfe",
          "edgeType": "Branch",
          "source": "917a3ae293f448f8a406bce99d2a8c35",
          "target": "044e1ce1c08941c0b118e88e1fffdad3",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.proceed_with_default=",
            "mode": "query"
          },
          "label": "Do not proceed with default value"
        },
        {
          "id": "f13536e1ccba4114a1b340a47c9087b2",
          "edgeType": "Branch",
          "source": "917a3ae293f448f8a406bce99d2a8c35",
          "target": "8571b1f84e414e41914e01502f71238e",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.proceed_with_default=true",
            "mode": "query"
          },
          "label": "Proceed with default value"
        },
        {
          "id": "3a941f2c45b44df08ec634321263add6",
          "edgeType": "Edge",
          "source": "b4b0d556c5ec4600acbdaf5f1f6ba2d7",
          "target": "00faf9e5b17745769467f0b840eb461d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "2ce40f6791b84f40afd4babf07f383aa",
          "edgeType": "Branch",
          "source": "00faf9e5b17745769467f0b840eb461d",
          "target": "51be302cd5274ac0a00e27aa3d4a8fec",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.show_end_state_card=",
            "mode": "query"
          },
          "label": "No",
          "fromNode": "24 Show end state card?",
          "toNode": "51be302cd5274ac0a00e27aa3d4a8fec",
          "toEdge": "2ce40f6791b84f40afd4babf07f383aa",
          "addNode": {},
          "nodeEntries": {}
        },
        {
          "id": "63bb6715e2284e40867fc95b3ac10b0b",
          "edgeType": "Edge",
          "source": "fc2ba28a1a4e4bd388f04f533bf8b9b8",
          "target": "a8567ca93d13473b9b449de368e0d95e",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "60ad0bd0c9bf458d8292fec9a284906c",
          "edgeType": "Branch",
          "source": "a8567ca93d13473b9b449de368e0d95e",
          "target": "8824db40c313417ab7a99c4d59bad6d7",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var type = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type;\n    return type === 2 || type === 6 || type === 16;\n})()"
          },
          "label": "Text Type"
        },
        {
          "id": "d71e5914b70f4be1b37b4eaa3c67c52c",
          "edgeType": "Branch",
          "source": "a8567ca93d13473b9b449de368e0d95e",
          "target": "8d93d8843de844d48aa28d704be88a24",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 26;\n})()\n"
          },
          "label": "Email Type"
        },
        {
          "id": "69a2400c7a654909bd49ab89f51fe858",
          "edgeType": "Branch",
          "source": "a8567ca93d13473b9b449de368e0d95e",
          "target": "ae30428de0854b879e2463db21a8a9a3",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 28;\n})()\n"
          },
          "label": "IP Address Type"
        },
        {
          "id": "470f1bb10f55460fbac43afece73a4d9",
          "edgeType": "Branch",
          "source": "a8567ca93d13473b9b449de368e0d95e",
          "target": "33d38415583140099fe1b76b257da175",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 27;\n})()\n"
          },
          "label": "URL Type"
        },
        {
          "id": "2cbe6c58793449928effeb0b7380a636",
          "edgeType": "Branch",
          "source": "044e1ce1c08941c0b118e88e1fffdad3",
          "target": "249e3dd6dca34f8e8b6e1c1c49f39c79",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var type = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type;\n    return type === 1 || type === 3 || type === 4 || type === 5 || type === 18 || type === 22;\n})()\n"
          },
          "label": "Choice Question"
        },
        {
          "id": "dbbee3a50bd34e729593a5f6c3d8015f",
          "edgeType": "Branch",
          "source": "249e3dd6dca34f8e8b6e1c1c49f39c79",
          "target": "16235ad80af844cfb63edd1554078562",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaContext.deviceType === \"mweb\";\n})()\n"
          },
          "label": "Mobile/Web Client"
        },
        {
          "id": "188ca7e4a4134c24972839c57ba91d38",
          "edgeType": "Branch",
          "source": "249e3dd6dca34f8e8b6e1c1c49f39c79",
          "target": "f6169e71355247eea4f6c935d3607c50",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return !(vaContext.deviceType === \"mweb\");\n})()\n"
          },
          "label": "Other Channels"
        },
        {
          "id": "eaf74cbee0da48f5a32582eeab9013d6",
          "edgeType": "Edge",
          "source": "f6169e71355247eea4f6c935d3607c50",
          "target": "ffcf293d73f24536be6af151a956f887",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "5a02c32279c84c0091cb0c1cede2d698",
          "edgeType": "Branch",
          "source": "ffcf293d73f24536be6af151a956f887",
          "target": "48b027bbee8e424785d6f503592b322b",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.question_choice_other_channels.getValue() === \"prev\";\n})()\n"
          },
          "label": "Question Choice Prev"
        },
        {
          "id": "d671b7715df34049a30dbdd3577c9fea",
          "edgeType": "Edge",
          "source": "48b027bbee8e424785d6f503592b322b",
          "target": "f6169e71355247eea4f6c935d3607c50",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "ab1f6a264b5245f3bcc2c1e3dbc6c861",
          "edgeType": "Branch",
          "source": "ffcf293d73f24536be6af151a956f887",
          "target": "bf7f7f36e59a4876ad06ddf09f2d3d27",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.question_choice_other_channels.getValue() === \"next\";\n})()\n"
          },
          "label": "Question Choice Next"
        },
        {
          "id": "b218e2bbfeee48f18ed9437c9269867e",
          "edgeType": "Edge",
          "source": "bf7f7f36e59a4876ad06ddf09f2d3d27",
          "target": "f6169e71355247eea4f6c935d3607c50",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "e1cb41462a244c2785409470794b9c99",
          "edgeType": "Branch",
          "source": "ffcf293d73f24536be6af151a956f887",
          "target": "4dc56e4b273e429aa19a29a895f1457c",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var valuePicked = vaInputs.question_choice_other_channels.getValue();\n    var condition = valuePicked !== 'next' &amp;&amp; valuePicked !== 'prev';\n    if (condition) {\n        vaVars.count = 0;\n        vaVars.index = 0;\n    }\n    return condition;\n})();"
          },
          "label": "Question Choice Chosen"
        },
        {
          "id": "646bee70ae3f4f1e8240ff748c9150e5",
          "edgeType": "Edge",
          "source": "16235ad80af844cfb63edd1554078562",
          "target": "4dc56e4b273e429aa19a29a895f1457c",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85b2faed9eb042e982030a4072177c77",
          "edgeType": "Edge",
          "source": "4dc56e4b273e429aa19a29a895f1457c",
          "target": "8571b1f84e414e41914e01502f71238e",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "f320dc8716a74728b52c30bec9219041",
          "edgeType": "Branch",
          "source": "044e1ce1c08941c0b118e88e1fffdad3",
          "target": "9ee34002dcd14b69a2e5748bd7ca71b1",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n   return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 8;\n})()"
          },
          "label": "Reference Question"
        },
        {
          "id": "3e23d576a8454f939a97cad1093f87db",
          "edgeType": "Branch",
          "source": "9ee34002dcd14b69a2e5748bd7ca71b1",
          "target": "6b8aa52a3ca04f39870be2695998ed44",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaContext.deviceType === \"mweb\";\n})()\n"
          },
          "label": "Mobile/Web Client"
        },
        {
          "id": "f242769396144c10ac1558e3b5abddd3",
          "edgeType": "Branch",
          "source": "9ee34002dcd14b69a2e5748bd7ca71b1",
          "target": "88e25684627c420f99569cf4af6eacfc",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return !(vaContext.deviceType === \"mweb\");\n})()"
          },
          "label": "Other Channels"
        },
        {
          "id": "eaa1d312451e4c5cba1452686cb6e1cf",
          "edgeType": "Edge",
          "source": "88e25684627c420f99569cf4af6eacfc",
          "target": "fd6511338014471bafb849da8b04dd71",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "2890c42108dd455f8236b5dc077dfd20",
          "edgeType": "Edge",
          "source": "fd6511338014471bafb849da8b04dd71",
          "target": "0b8561a5edbc4abaaf9ca1ebcb4c811c",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "1fcc9c258e6b43e3a0cb289492dc7afb",
          "edgeType": "Branch",
          "source": "0b8561a5edbc4abaaf9ca1ebcb4c811c",
          "target": "edabfb9d5b304a459b201ce3e0760724",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.question_reference_other_channels.getValue() === \"prev\";\n})()\n"
          },
          "label": "Question Reference Prev"
        },
        {
          "id": "f6908ddce8274ddebc33dfb8729c6df3",
          "edgeType": "Edge",
          "source": "edabfb9d5b304a459b201ce3e0760724",
          "target": "fd6511338014471bafb849da8b04dd71",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "7622bee684864edc955f5cbd86eb0fd1",
          "edgeType": "Branch",
          "source": "0b8561a5edbc4abaaf9ca1ebcb4c811c",
          "target": "375aefa0e9114d718bc978244b6b86ea",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.question_reference_other_channels.getValue() === \"next\";\n})()\n"
          },
          "label": "Question Reference Next"
        },
        {
          "id": "7eff045ef18b49f0abc14f71ec50d440",
          "edgeType": "Edge",
          "source": "375aefa0e9114d718bc978244b6b86ea",
          "target": "fd6511338014471bafb849da8b04dd71",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "33db6298ebfa45788237a6150ad16b3a",
          "edgeType": "Branch",
          "source": "0b8561a5edbc4abaaf9ca1ebcb4c811c",
          "target": "9c6bbf92e4a64ed98ce15340bd2f8a15",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var valuePicked = vaInputs.question_reference_other_channels.getValue();\n    var chosenCondition = valuePicked &amp;&amp; valuePicked !== 'next' &amp;&amp; valuePicked !== 'prev' &amp;&amp; valuePicked !== 'search';\n    var skippedCondition = vaVars.no_records_found === \"false\" &amp;&amp; !valuePicked;\n    if (chosenCondition || skippedCondition) {\n        vaVars.count = 0;\n        vaVars.index = 0;\n    }\n    \n    return chosenCondition || skippedCondition;\n})();"
          },
          "label": "Question Reference Chosen/Skipped"
        },
        {
          "id": "dce3c07fa6754ecf9beea7691bb67f76",
          "edgeType": "Branch",
          "source": "0b8561a5edbc4abaaf9ca1ebcb4c811c",
          "target": "88e25684627c420f99569cf4af6eacfc",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var valuePicked = vaInputs.question_reference_other_channels.getValue();\n    var condition = (vaVars.no_records_found === \"true\") || valuePicked === \"search\";\n    if (condition) {\n        vaVars.count = 0;\n        vaVars.index = 0;\n    }\n    return condition;\n})()\n"
          },
          "label": "Search Question Reference"
        },
        {
          "id": "48688b74615844ddad9ac6f110384c5d",
          "edgeType": "Edge",
          "source": "6b8aa52a3ca04f39870be2695998ed44",
          "target": "9c6bbf92e4a64ed98ce15340bd2f8a15",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "a786d80c5827403b83ad02ecda270eb2",
          "edgeType": "Edge",
          "source": "9c6bbf92e4a64ed98ce15340bd2f8a15",
          "target": "8571b1f84e414e41914e01502f71238e",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "1238a311b1c3496ab2aa55cd8a21fcba",
          "edgeType": "Branch",
          "source": "00faf9e5b17745769467f0b840eb461d",
          "target": "d52205f9e30b4615896aa29e1ce3ff1b",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.show_end_state_card=true",
            "mode": "query"
          },
          "label": "Yes",
          "fromNode": "24 Show end state card?",
          "toNode": "51be302cd5274ac0a00e27aa3d4a8fec",
          "toEdge": "1238a311b1c3496ab2aa55cd8a21fcba",
          "addNode": {},
          "nodeEntries": {}
        }
      ]
    }
  },
  "variables": {
    "96c86d6ffd214f15b3e376d324d01e56": {
      "id": "96c86d6ffd214f15b3e376d324d01e56",
      "name": "catalog_item_id",
      "label": "Catalog_item_id",
      "defaultValue": "",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      }
    },
    "f599e999b1534fad8294fe6289f1e16b": {
      "id": "f599e999b1534fad8294fe6289f1e16b",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "itemJSON",
      "label": "itemJSON",
      "varType": "script",
      "category": "vaVars"
    },
    "150e44c6d54a4a24833dda15d17bdb75": {
      "id": "150e44c6d54a4a24833dda15d17bdb75",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "itemName",
      "label": "itemName",
      "varType": "script",
      "category": "vaVars"
    },
    "b4b7b866a7d44543b9d80d58b52f7a33": {
      "id": "b4b7b866a7d44543b9d80d58b52f7a33",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    return '';\n})()\n"
      },
      "name": "record_id",
      "label": "record_id",
      "varType": "script",
      "category": "vaVars"
    },
    "26d99ea15fac40eeabc6b88ceca09609": {
      "id": "26d99ea15fac40eeabc6b88ceca09609",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    return '';\n})()\n"
      },
      "name": "record_table",
      "label": "record_table",
      "varType": "script",
      "category": "vaVars"
    },
    "4aae1e90eee040508b488a2e4cb5348d": {
      "id": "4aae1e90eee040508b488a2e4cb5348d",
      "name": "proceed",
      "label": "Proceed",
      "varType": "boolean",
      "category": "vaInputs"
    },
    "491c0dce3f3d46439a10f07915ea6a2d": {
      "id": "491c0dce3f3d46439a10f07915ea6a2d",
      "value": {
        "mode": "simple",
        "value": "-1"
      },
      "name": "qIndex",
      "label": "qIndex",
      "varType": "script",
      "category": "vaVars"
    },
    "e52e7b19809b477e8dd34158ff059f5e": {
      "id": "e52e7b19809b477e8dd34158ff059f5e",
      "name": "submit_producer",
      "label": "Submit Producer",
      "varType": "boolean",
      "category": "vaInputs"
    },
    "d80cccee69ff456b9fa094a216f68539": {
      "id": "d80cccee69ff456b9fa094a216f68539",
      "value": {
        "mode": "simple",
        "value": "7"
      },
      "name": "limit",
      "label": "limit",
      "varType": "script",
      "category": "vaVars"
    },
    "cdbf777c37534bb494c93e8855423d5e": {
      "id": "cdbf777c37534bb494c93e8855423d5e",
      "value": {
        "mode": "simple",
        "value": "0"
      },
      "name": "count",
      "label": "count",
      "varType": "script",
      "category": "vaVars"
    },
    "2ed77f68f0344fdcaed0a8699c13739b": {
      "id": "2ed77f68f0344fdcaed0a8699c13739b",
      "value": {
        "mode": "simple",
        "value": "0"
      },
      "name": "index",
      "label": "index",
      "varType": "script",
      "category": "vaVars"
    },
    "519b084f442744ba9cdec5539b5c80aa": {
      "id": "519b084f442744ba9cdec5539b5c80aa",
      "name": "order_item",
      "label": "Order Item",
      "varType": "boolean",
      "category": "vaInputs"
    },
    "e95fe3cbaa0145ba915335119d9222b4": {
      "id": "e95fe3cbaa0145ba915335119d9222b4",
      "name": "question_date",
      "label": "Question Date",
      "varType": "date_time",
      "category": "vaInputs",
      "mode": "date"
    },
    "ba125855ba4649a1bf12ada78ff31bac": {
      "id": "ba125855ba4649a1bf12ada78ff31bac",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    return '';\n})()\n"
      },
      "name": "validation_message",
      "label": "validation_message",
      "varType": "script",
      "category": "vaVars"
    },
    "ae8f2994ca9a4ca4ab9b12d80a159ca6": {
      "id": "ae8f2994ca9a4ca4ab9b12d80a159ca6",
      "name": "question_text",
      "label": "Question Text",
      "varType": "string",
      "category": "vaInputs",
      "secure": false,
      "encryptionSalt": {
        "value": "MTYxMTIxNzA0NzMzMiBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "encryptionHashFunction": "SHA-256"
    },
    "6066fb5d224646848d768d0d34e4e747": {
      "id": "6066fb5d224646848d768d0d34e4e747",
      "name": "question_reference",
      "label": "Question Reference",
      "varType": "reference",
      "table": "",
      "category": "vaInputs"
    },
    "b1bf83cc9ee34ad79dd531a289c3317e": {
      "category": "vaInputs",
      "id": "b1bf83cc9ee34ad79dd531a289c3317e",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "82d63d0e78ed428f8508b468da50c0aa": {
      "id": "82d63d0e78ed428f8508b468da50c0aa",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    /* Return a quoted string.  For example:\n\n       var result;\n       if (vaInputs.first_name == 'Bill') {\n           return gs.getMessage('hi there {0}', [vaInputs.first_name]);\n       } else {\n           return gs.getMessage('how are you {0}', [vaInputs.last_name]);\n       }\n    */\n    return '';\n})()\n"
      },
      "name": "request_for",
      "label": "request_for",
      "varType": "script",
      "category": "vaVars"
    },
    "a0567c2eb08f4522a633c139735bfc03": {
      "id": "a0567c2eb08f4522a633c139735bfc03",
      "name": "question_choice",
      "label": "Question Choice",
      "varType": "reference",
      "table": "",
      "category": "vaInputs"
    },
    "1a84b23329ff407691629ee0413ffaa3": {
      "id": "1a84b23329ff407691629ee0413ffaa3",
      "name": "question_date_time",
      "label": "Question Date Time",
      "varType": "date_time",
      "category": "vaInputs",
      "mode": "date_time"
    },
    "d4eeeae471a04ae4856ecd2d62713f99": {
      "id": "d4eeeae471a04ae4856ecd2d62713f99",
      "name": "question_requested_for",
      "label": "Question Requested For",
      "varType": "reference",
      "table": "",
      "category": "vaInputs"
    },
    "316846c0a2a24d999f17a5a01ef4f36f": {
      "id": "316846c0a2a24d999f17a5a01ef4f36f",
      "name": "search_requested_for",
      "label": "Search Requested For",
      "varType": "string",
      "category": "vaInputs",
      "secure": false,
      "encryptionSalt": {
        "value": "MTYxMTIxNzA0NzMzMiBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "encryptionHashFunction": "SHA-256"
    },
    "020c596b3a684505867a86cbfbac4b53": {
      "id": "020c596b3a684505867a86cbfbac4b53",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    return false;\n})()\n"
      },
      "name": "canView",
      "label": "canView",
      "varType": "script",
      "category": "vaVars"
    },
    "f150d45666a5413f84ce5edb35d55feb": {
      "id": "f150d45666a5413f84ce5edb35d55feb",
      "name": "request_for_another_user",
      "label": "Request For Another User",
      "varType": "boolean",
      "category": "vaInputs"
    },
    "5726b16ae7454d43a2867f5974827346": {
      "id": "5726b16ae7454d43a2867f5974827346",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    return '7,14,15,17,21,23,25,29,30';\n})()\n"
      },
      "name": "unsupportedVarTypes",
      "label": "unsupportedVarTypes",
      "varType": "script",
      "category": "vaVars"
    },
    "b8aefaa78de041dfb7c705d1fa721695": {
      "id": "b8aefaa78de041dfb7c705d1fa721695",
      "name": "question_email",
      "label": "Question Email",
      "varType": "string",
      "category": "vaInputs",
      "secure": false,
      "encryptionSalt": {
        "value": "MTYxMTIxNzA0NzMzMiBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "encryptionHashFunction": "SHA-256"
    },
    "8784f8f9c63c4b53b708f51c24e4137d": {
      "id": "8784f8f9c63c4b53b708f51c24e4137d",
      "name": "question_ip_address",
      "label": "Question IP Address",
      "varType": "string",
      "category": "vaInputs",
      "secure": false,
      "encryptionSalt": {
        "value": "MTYxMTIxNzA0NzMzMiBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "encryptionHashFunction": "SHA-256"
    },
    "6d184d69a1d14128b92a42695edb2d46": {
      "id": "6d184d69a1d14128b92a42695edb2d46",
      "name": "question_url",
      "label": "Question URL",
      "varType": "string",
      "category": "vaInputs",
      "secure": false,
      "encryptionSalt": {
        "value": "MTYxMTIxNzA0NzMzMiBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "encryptionHashFunction": "SHA-256"
    },
    "1b21c82a99564ef3a294397c5f8c888d": {
      "id": "1b21c82a99564ef3a294397c5f8c888d",
      "name": "add_attachment",
      "label": "Add Attachment",
      "varType": "boolean",
      "category": "vaInputs"
    },
    "185f1193f47746acb6a311742dc54203": {
      "id": "185f1193f47746acb6a311742dc54203",
      "name": "upload_attachment",
      "label": "Upload Attachment",
      "varType": "file",
      "category": "vaInputs"
    },
    "f077c2b36bbd4047a721c6ef74080fa4": {
      "id": "f077c2b36bbd4047a721c6ef74080fa4",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    return '';\n})()\n"
      },
      "name": "media_links_form_attachment",
      "label": "media_links_form_attachment",
      "varType": "script",
      "category": "vaVars"
    },
    "ff1ae4758d9b40b89e17929fd3fd581e": {
      "id": "ff1ae4758d9b40b89e17929fd3fd581e",
      "name": "add_more",
      "label": "Add More",
      "varType": "boolean",
      "category": "vaInputs"
    },
    "6c9b723708b643a7900b672d101eea1d": {
      "id": "6c9b723708b643a7900b672d101eea1d",
      "name": "question_attachment",
      "label": "Question Attachment",
      "varType": "file",
      "category": "vaInputs"
    },
    "4d47ea09c85f4bc3ab62c93012bb25ad": {
      "id": "4d47ea09c85f4bc3ab62c93012bb25ad",
      "name": "execute_contextual_search",
      "label": "Execute_contextual_search",
      "defaultValue": "false",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      }
    },
    "e3a93d861bdf4fdf9cc46420ef902298": {
      "id": "e3a93d861bdf4fdf9cc46420ef902298",
      "name": "confirm_catalog_item",
      "label": "Confirm_catalog_item",
      "defaultValue": "true",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      }
    },
    "0930e1ffe4144461b54e4c54cc342c51": {
      "id": "0930e1ffe4144461b54e4c54cc342c51",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    return '';\n})()\n"
      },
      "name": "contextualSearchVariable",
      "label": "contextualSearchVariable",
      "varType": "script",
      "category": "vaVars"
    },
    "4d5915249c944d0281dbe383dd5ddc51": {
      "id": "4d5915249c944d0281dbe383dd5ddc51",
      "value": {
        "mode": "simple",
        "value": "2821675a5b30130070e4492c11f91a89"
      },
      "name": "contextualSearchContext",
      "label": "contextualSearchContext",
      "varType": "script",
      "category": "vaVars"
    },
    "4bf9555c778147e7a9102cb4c5a1cf66": {
      "id": "4bf9555c778147e7a9102cb4c5a1cf66",
      "value": {
        "mode": "simple",
        "value": "3"
      },
      "name": "contextualSearchResultLimit",
      "label": "contextualSearchResultLimit",
      "varType": "script",
      "category": "vaVars"
    },
    "b06519fd303c40729c8f13967416dd52": {
      "id": "b06519fd303c40729c8f13967416dd52",
      "value": {
        "mode": "simple",
        "value": "0"
      },
      "name": "contextualSearchIndex",
      "label": "contextualSearchIndex",
      "varType": "script",
      "category": "vaVars"
    },
    "f11c4a83c8dd4c498525294c4b39fd7e": {
      "id": "f11c4a83c8dd4c498525294c4b39fd7e",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "contextualSearchResultJsonString",
      "label": "contextualSearchResultJsonString",
      "varType": "script",
      "category": "vaVars"
    },
    "7b4d66f4c9804d128c43c37da2de4835": {
      "id": "7b4d66f4c9804d128c43c37da2de4835",
      "value": {
        "mode": "simple",
        "value": "0"
      },
      "name": "contextualSearchResultCount",
      "label": "contextualSearchResultCount",
      "varType": "script",
      "category": "vaVars"
    },
    "8ab9c73162424238a1012a23af55d30d": {
      "id": "8ab9c73162424238a1012a23af55d30d",
      "name": "did_articles_help",
      "label": "Did_articles_help",
      "varType": "boolean",
      "category": "vaInputs"
    },
    "cdf8d6d062b04fb0a31a0329377d93d5": {
      "id": "cdf8d6d062b04fb0a31a0329377d93d5",
      "name": "proceed_with_default",
      "label": "Proceed With Default",
      "varType": "boolean",
      "secure": false,
      "category": "vaInputs"
    },
    "c7cc4fe0351949088b64a68c4042ddde": {
      "id": "c7cc4fe0351949088b64a68c4042ddde",
      "name": "show_end_state_card",
      "label": "Show_end_state_card",
      "defaultValue": "false",
      "varType": "boolean",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      }
    },
    "b778ffbdfb28470b9ff46ece908874a6": {
      "id": "b778ffbdfb28470b9ff46ece908874a6",
      "name": "question_choice_other_channels",
      "label": "Question Choice Other Channels",
      "varType": "reference",
      "table": "",
      "category": "vaInputs"
    },
    "19899025d0184f1384be882f62937e34": {
      "id": "19899025d0184f1384be882f62937e34",
      "name": "search_reference",
      "label": "Search Reference",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTY1MDQ4NTE4OTAxMCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      }
    },
    "944a6e290a8344ed968250cf980a96ba": {
      "id": "944a6e290a8344ed968250cf980a96ba",
      "name": "question_reference_other_channels",
      "label": "Question Reference Other Channels",
      "varType": "reference",
      "table": "",
      "category": "vaInputs"
    },
    "786174e84d5f4c0bb4854ea4479f7d86": {
      "id": "786174e84d5f4c0bb4854ea4479f7d86",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    /* return 'a default value'; */\n    return \"false\";\n})()\n"
      },
      "name": "no_records_found",
      "label": "no_records_found",
      "varType": "script",
      "category": "vaVars"
    }
  }
}</graph>
        <name>Submit a request</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2023-03-15 14:38:27</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>f9653a924765e110d02bc789826d4366</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>FlowTopic</sys_name>
        <sys_package display_value="NeedIt" source="x_58872_needit">6ead8e780f603200cd674f8ce1050ed1</sys_package>
        <sys_policy/>
        <sys_scope display_value="NeedIt">6ead8e780f603200cd674f8ce1050ed1</sys_scope>
        <sys_update_name>sys_cb_design_topic_f9653a924765e110d02bc789826d4366</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2023-03-15 14:38:27</sys_updated_on>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
